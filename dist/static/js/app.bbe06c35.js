(function(t){function e(e){for(var i,o,r=e[0],s=e[1],c=e[2],u=0,p=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);d&&d(e);while(p.length)p.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],i=!0,r=1;r<a.length;r++){var s=a[r];0!==n[s]&&(i=!1)}i&&(l.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},n={app:0},l=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=s;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("64a9")},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},l=[],o={name:"App"},r=o,s=(a("034f"),a("2877")),c=Object(s["a"])(r,n,l,!1,null,null,null),d=c.exports,u=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"auto auto"}},[a("el-card",{staticStyle:{margin:"100px auto",width:"500px"}},[a("div",{staticStyle:{margin:"0 auto",width:"400px","font-size":"20px"}},[a("br"),a("br"),a("div",{staticClass:"title"},[t._v("登入")]),a("br"),a("br"),a("div",{staticClass:"caption"},[t._v("帳號")]),a("el-input",{staticClass:"input",attrs:{placeholder:"請輸入帳號(使用者名稱)"},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),a("br"),a("br"),a("div",{staticClass:"caption"},[t._v("密碼")]),a("el-input",{staticClass:"input",attrs:{placeholder:"請輸入密碼","show-password":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("br"),a("br"),a("br"),a("el-button",{staticClass:"button",attrs:{plain:""},on:{click:t.login}},[t._v("Log in")]),a("br"),a("br"),a("br")],1)])],1)},f=[],m=(a("7f7f"),a("a481"),{name:"login",data:function(){return{account:"",password:""}},created:function(){this.$router.replace({query:""}).catch((function(){}))},mounted:function(){var t=this;document.onkeydown=function(e){if("login"==t.$route.name){var a=window.event.keyCode;13==a&&t.login()}}},methods:{login:function(){var t=this;this.axios.get("/login",{params:{account:this.account,password:this.password}}).then((function(e){"success"==e.data?(t.$message({message:"登入成功!",type:"success"}),sessionStorage.setItem("login","true"),t.$router.push({name:"main"})):t.$message({message:"登入失敗!",type:"error"})}))}}}),b=m,v=(a("adee"),Object(s["a"])(b,p,f,!1,null,"57ae15cc",null)),h=v.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"80%",margin:"auto auto"}},[a("el-tabs",{attrs:{type:"border-card"},model:{value:t.tabsValue,callback:function(e){t.tabsValue=e},expression:"tabsValue"}},[a("el-tab-pane",{attrs:{label:"基本資料",name:"basic"}},[a("div",{staticClass:"tab-body"},[a("el-form",{attrs:{"label-width":"80px"}},[a("div",{staticStyle:{"text-align":"left","font-size":"28px"}},[t._v("店家")]),a("el-form-item",{attrs:{label:"店家名稱"}},[a("el-input",{model:{value:t.companyForm.name,callback:function(e){t.$set(t.companyForm,"name",e)},expression:"companyForm.name"}})],1),a("el-form-item",{attrs:{label:"店家地址"}},[a("el-input",{model:{value:t.companyForm.address,callback:function(e){t.$set(t.companyForm,"address",e)},expression:"companyForm.address"}})],1),a("el-form-item",{attrs:{label:"店家電話"}},[a("el-input",{model:{value:t.companyForm.telephone,callback:function(e){t.$set(t.companyForm,"telephone",e)},expression:"companyForm.telephone"}})],1),a("el-form-item",{attrs:{label:"店家傳真"}},[a("el-input",{model:{value:t.companyForm.tax,callback:function(e){t.$set(t.companyForm,"tax",e)},expression:"companyForm.tax"}})],1),a("div",{staticStyle:{"text-align":"left","font-size":"28px"}},[t._v("客戶")]),a("el-form-item",{attrs:{label:"客戶名稱"}},[a("el-input",{model:{value:t.clientForm.name,callback:function(e){t.$set(t.clientForm,"name",e)},expression:"clientForm.name"}})],1),a("el-form-item",{attrs:{label:"客戶地址"}},[a("el-input",{model:{value:t.clientForm.address,callback:function(e){t.$set(t.clientForm,"address",e)},expression:"clientForm.address"}})],1),a("el-form-item",{attrs:{label:"客戶電話"}},[a("el-input",{model:{value:t.clientForm.telephone,callback:function(e){t.$set(t.clientForm,"telephone",e)},expression:"clientForm.telephone"}})],1),a("el-form-item",{attrs:{label:"客戶傳真"}},[a("el-input",{model:{value:t.clientForm.tax,callback:function(e){t.$set(t.clientForm,"tax",e)},expression:"clientForm.tax"}})],1),a("el-form-item",{attrs:{label:"客戶信箱"}},[a("el-input",{model:{value:t.clientForm.email,callback:function(e){t.$set(t.clientForm,"email",e)},expression:"clientForm.email"}})],1)],1)],1),a("div",{staticClass:"tab-footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeTab("service")}}},[t._v("下一步")])],1)]),a("el-tab-pane",{attrs:{label:"服務項目",name:"service"}},[a("div",{staticClass:"tab-body"},[a("el-table",{attrs:{data:t.serviceTable,"empty-text":"尚無資料"}},[a("el-table-column",{attrs:{label:"空調設備規格",prop:"specification"}}),a("el-table-column",{attrs:{label:"數量",prop:"number"}}),a("el-table-column",{attrs:{label:"單位",prop:"unit"}}),a("el-table-column",{attrs:{label:"單價",prop:"unitPrice"}}),a("el-table-column",{attrs:{label:"金額",prop:"price"}}),a("el-table-column",{attrs:{label:"備註",prop:"remark"}})],1),a("el-button",{attrs:{type:"warning",icon:"el-icon-plus",circle:""},on:{click:function(e){t.dialogFormVisible=!0}}})],1),a("div",{staticClass:"tab-footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.changeTab("basic")}}},[t._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeTab("other")}}},[t._v("下一步")])],1)]),a("el-tab-pane",{attrs:{label:"其他項目",name:"other"}},[a("div",{staticClass:"tab-body"},[t._v("\r\n                其他項目\r\n            ")]),a("div",{staticClass:"tab-footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.changeTab("service")}}},[t._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeTab("finish")}}},[t._v("下一步")])],1)]),a("el-tab-pane",{attrs:{label:"完成",name:"finish"}},[a("div",{staticClass:"tab-body"},[a("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!0,"float-layout":!1,"enable-download":!0,"preview-modal":!1,"paginate-elements-by-height":1400,filename:"我是pdf","pdf-quality":2,"manual-pagination":!0,"pdf-format":"a4","pdf-orientation":"landscape","pdf-content-width":"800px","html-to-pdf-options":t.htmlToPdfOptions},on:{progress:function(e){return t.onProgress(e)},hasStartedGeneration:function(e){return t.hasStartedGeneration()},hasGenerated:function(e){return t.hasGenerated(e)}}},[a("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[a("div",{staticStyle:{height:"1070px",width:"750px",border:"black double 6px",margin:"20px 20px"}},[a("div",{staticClass:"basic-info"},[a("div",{staticStyle:{"text-align":"center","font-size":"35px"}},[t._v("報   價   單")]),a("div",{staticClass:"toLeft"},[t._v("和進電器水電行")]),a("div",{staticClass:"toLeft"},[t._v("新竹縣新豐鄉建興路一段154-8號")]),a("div",{staticClass:"toFlex"},[a("div",{},[t._v("TEL：03-5576567")]),a("div",{staticStyle:{"margin-left":"20px"}},[t._v("FAX：03-573526")])]),a("br"),a("div",{staticClass:"toFlex"},[a("div",{staticClass:"toLeft",staticStyle:{width:"60%"}},[t._v("客戶名稱：馬先生")]),a("div",{staticClass:"toLeft"},[t._v("日期：111/2/21")])]),a("div",{staticClass:"toFlex"},[a("div",{staticClass:"toLeft",staticStyle:{width:"60%"}},[t._v("聯絡電話：0978-815281")]),a("div",{staticClass:"toLeft"},[t._v("傳真：")])]),a("div",{staticClass:"toLeft"},[t._v("地址：新竹縣新豐鄉建興路一段154-8號")]),a("div",{staticClass:"toLeft"},[t._v("Email：")])]),a("div",{staticClass:"basic-info",staticStyle:{"border-top":"1px solid #000","border-bottom":"1px solid #000","letter-spacing":"32px","text-align":"center"}},[t._v("\r\n                            國際分離式變頻空調工程\r\n                        ")]),a("table",{staticStyle:{"border-collapse":"collapse",width:"750px","font-family":"PMingLiU"},attrs:{border:""}},[a("tr",{},[a("th",{attrs:{width:"350px"}},[t._v("空調設備規格")]),a("th",{attrs:{width:"40px"}},[t._v("數量")]),a("th",{attrs:{width:"40px"}},[t._v("單位")]),a("th",{attrs:{width:"100px"}},[t._v("單價")]),a("th",{attrs:{width:"100px"}},[t._v("金額")]),a("th",{attrs:{width:"120px"}},[t._v("備註")])]),t._l(t.testarr,(function(e){return a("tr",{key:e},[a("td",{staticClass:"table-td",staticStyle:{"max-width":"365px","text-align":"left"}},[t._v(t._s(e.name))]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"40px","text-align":"center"}},[t._v(t._s(e.address))]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"40px","text-align":"center"}},[t._v(t._s(e.telephone))]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"100px","text-align":"right"}},[a("div",{staticStyle:{"margin-right":"4px"}},[t._v("$"+t._s(e.tax))])]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"100px","text-align":"right"}},[a("div",{staticStyle:{"margin-right":"4px"}},[t._v("$"+t._s(e.email))])]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"165px","text-align":"center"}},[t._v("$"+t._s(e.note))])])})),t._l(10-t.testarr.length,(function(e){return a("tr",{key:e},t._l(6,(function(t){return a("td",{key:t,staticClass:"table-td"})})),0)})),a("tr",[a("td",{staticClass:"toLeft table-td"},[t._v("施工日期:")]),t._l(5,(function(t){return a("td",{key:t,staticClass:"table-td"})}))],2),a("tr",t._l(6,(function(t){return a("td",{key:t,staticClass:"table-td"})})),0),a("tr",[a("td",{staticClass:"toLeft table-td",attrs:{colspan:"6"}},[a("span",{staticStyle:{"margin-right":"200px"}},[t._v("訂金:")]),a("span",{staticStyle:{"margin-right":"200px"}},[t._v("機器設備款:")]),a("span",[t._v("完成款:")])])]),a("tr",[a("td",{staticClass:"table-td",staticStyle:{"letter-spacing":"32px","text-align":"center"}},[t._v("合計")]),a("td",{staticClass:"table-td",staticStyle:{"text-align":"center"},attrs:{colspan:"5"}},[t._v("$112345")])])],2),a("div",{staticClass:"toLeft toFlex basic-info",staticStyle:{height:"90px"}},[a("div",{staticStyle:{width:"400px","line-height":"90px"}},[t._v("和進電器水電行:")]),a("div",{staticClass:"toFlex",staticStyle:{"line-height":"90px"}},[a("div",[t._v("客戶簽名:")]),""==t.clientSignImg?a("div",{staticStyle:{width:"275px",height:"80px"},on:{click:function(e){t.signCanvasVisible=!0}}}):a("img",{staticStyle:{width:"275px",height:"80px"},attrs:{src:t.clientSignImg},on:{click:function(e){t.signCanvasVisible=!0}}})])])])])])],1),a("div",{staticClass:"tab-footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.changeTab("other")}}},[t._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:t.generateReport}},[t._v("下載成PDF")])],1)])],1),a("el-dialog",{attrs:{title:"選擇空調設備規格",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",[a("el-form",{attrs:{model:t.addSpecificationForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"品牌"}},[a("el-select",{attrs:{placeholder:"選擇品牌"},model:{value:t.addSpecificationValue.brand,callback:function(e){t.$set(t.addSpecificationValue,"brand",e)},expression:"addSpecificationValue.brand"}},t._l(t.addSpecificationOption.brand,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"種類"}},[a("el-select",{attrs:{placeholder:"選擇種類"},model:{value:t.addSpecificationValue.category,callback:function(e){t.$set(t.addSpecificationValue,"category",e)},expression:"addSpecificationValue.category"}},t._l(t.addSpecificationOption.category,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"商品"}},[a("el-select",{attrs:{placeholder:"選擇商品"},model:{value:t.addSpecificationValue.product,callback:function(e){t.$set(t.addSpecificationValue,"product",e)},expression:"addSpecificationValue.product"}},t._l(t.addSpecificationOption.product,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"數量"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.addSpecificationValue.number,callback:function(e){t.$set(t.addSpecificationValue,"number",e)},expression:"addSpecificationValue.number"}})],1),a("el-form-item",{attrs:{label:"單位"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.addSpecificationValue.unit,callback:function(e){t.$set(t.addSpecificationValue,"unit",e)},expression:"addSpecificationValue.unit"}})],1),a("el-form-item",{attrs:{label:"單價"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.addSpecificationValue.unitPrice,callback:function(e){t.$set(t.addSpecificationValue,"unitPrice",e)},expression:"addSpecificationValue.unitPrice"}})],1),a("el-form-item",{attrs:{label:"備註"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.addSpecificationValue.remark,callback:function(e){t.$set(t.addSpecificationValue,"remark",e)},expression:"addSpecificationValue.remark"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addService}},[t._v("確 定")])],1)]),a("el-dialog",{attrs:{title:"客戶簽名",visible:t.signCanvasVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.signCanvasVisible=e}}},[a("vue-esign",{ref:"esign",staticStyle:{borderStyle:"double",borderColor:"black"},attrs:{width:800,height:300,isCrop:t.isCrop,lineWidth:t.lineWidth,lineColor:t.lineColor,bgColor:t.bgColor},on:{"update:bgColor":function(e){t.bgColor=e},"update:bg-color":function(e){t.bgColor=e}}}),a("div",{staticStyle:{"margin-top":"20px","text-align":"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$refs.esign.reset()}}},[t._v("清除")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.signCanvasVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleGenerate}},[t._v("確定")])],1)],1)],1)},y=[],x=a("13bf"),S=a("6480"),_={name:"Main",components:{vueEsign:x["a"],VueHtml2pdf:S["a"]},data:function(){return{tabsValue:"basic",companyForm:{name:"和進電器水電行",address:"新竹縣新豐鄉建興路一段154-8號",telephone:"03-5576567",tax:"03-573526"},clientForm:{company:"",address:"",telephone:"",tax:"",email:""},serviceTable:[],dialogFormVisible:!1,addSpecificationOption:{brand:["國際","日立"],category:["變頻冷專冷氣","變頻冷專冷暖"],product:["CS-LJ71BA2/CU-LJ71BCA2","RA-25HV1"]},addSpecificationValue:{brand:"國際",category:"變頻冷專冷氣",product:" CS-LJ71BA2/CU-LJ71BCA2",number:"",unit:"",unitPrice:"",remark:""},testarr:[{name:"國際變頻冷專冷氣CS-LJ71BA2/CU-LJ71BCA2",address:"1",telephone:"組",tax:"56000",email:"56000",note:"test1test1"},{name:"日立變頻冷專冷暖RA-25HV1",address:"1",telephone:"米",tax:"31000",email:"31000",note:"test2test2"}],clientSignImg:"",signCanvasVisible:!1,name:"Vue.js",showLayout:!1}},created:function(){if("true"!=sessionStorage.getItem("login")){var t=this;t.$message({message:"登入會期已過，請重新登入!",type:"warning"}),setTimeout((function(){t.$router.push({name:"login"})}),3e3)}},computed:{htmlToPdfOptions:function(){return{margin:0,filename:"我是pdf.pdf",image:{type:"jpeg",quality:.98},enableLinks:!0,html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}}}},methods:{changeTab:function(t){this.tabsValue=t},addService:function(){var t=this.addSpecificationValue.brand+this.addSpecificationValue.category+this.addSpecificationValue.product;this.serviceTable.push({specification:t,number:this.addSpecificationValue.number,unit:this.addSpecificationValue.unit,unitPrice:this.addSpecificationValue.unitPrice,price:this.addSpecificationValue.number*this.addSpecificationValue.unitPrice,remark:this.addSpecificationValue.remark})},handleGenerate:function(){var t=this;t.$refs.esign.generate().then((function(e){t.clientSignImg=e,t.signCanvasVisible=!1})).catch((function(e){t.$message({message:"沒有偵測到簽名!",type:"error"})}))},show:function(){this.showLayout=!this.showLayout},greet:function(t){alert("Hello "+this.name+"!"),t&&alert(t.target.tagName)},generateReport:function(){this.$refs.html2Pdf.generatePdf()}}},C=_,k=(a("82d1"),Object(s["a"])(C,g,y,!1,null,"28758266",null)),w=k.exports;i["default"].use(u["a"]);var V=new u["a"]({routes:[{path:"*",redirect:"/login"},{path:"/login",name:"login",component:h},{path:"/main",name:"main",component:w}]}),F=a("5c96"),$=a.n(F),L=(a("0fae"),a("bc3a")),P=a.n(L),O=a("a7fe"),T=a.n(O),j=a("4328"),A=a.n(j);i["default"].prototype.$qs=A.a,i["default"].config.productionTip=!1,i["default"].use(T.a,P.a),P.a.defaults.baseURL="/api",i["default"].use($.a),i["default"].config.devtools=!0,V.beforeEach((function(t,e,a){a()}));var J=new i["default"]({router:V,render:function(t){return t(d)}});J.$mount("#app")},"64a9":function(t,e,a){},"773f":function(t,e,a){},"82d1":function(t,e,a){"use strict";a("773f")},adee:function(t,e,a){"use strict";a("d5b1")},d5b1:function(t,e,a){}});
//# sourceMappingURL=app.bbe06c35.js.map