(function(t){function e(e){for(var i,o,s=e[0],r=e[1],c=e[2],u=0,p=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(l,o)&&l[o]&&p.push(l[o][0]),l[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,s=1;s<a.length;s++){var r=a[s];0!==l[r]&&(i=!1)}i&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},l={app:0},n=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=r;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1024:function(t,e,a){},1088:function(t,e,a){"use strict";a("baa9")},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),l=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],o={name:"App"},s=o,r=(a("a63a"),a("2877")),c=Object(r["a"])(s,l,n,!1,null,null,null),d=c.exports,u=a("8c4f"),p=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{margin:"auto auto"}},[e("el-card",{staticStyle:{margin:"100px auto",width:"90%","max-width":"500px"}},[e("div",{staticStyle:{margin:"0 auto",width:"90%","font-size":"20px"}},[e("br"),e("br"),e("div",{staticClass:"title"},[t._v("登入")]),e("br"),e("br"),e("div",{staticClass:"caption"},[t._v("帳號")]),e("el-input",{staticClass:"input",attrs:{placeholder:"請輸入帳號"},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),e("br"),e("br"),e("div",{staticClass:"caption"},[t._v("密碼")]),e("el-input",{staticClass:"input",attrs:{placeholder:"請輸入密碼","show-password":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("br"),e("br"),e("br"),e("el-button",{staticClass:"button",attrs:{plain:""},on:{click:t.login}},[t._v("Log in")]),e("br"),e("br"),e("br")],1)])],1)},h=[],m=(a("7f7f"),a("a481"),{name:"login",data:function(){return{account:"",password:""}},created:function(){this.$router.replace({query:""}).catch((function(){}))},mounted:function(){var t=this;document.onkeydown=function(e){if("login"==t.$route.name){var a=window.event.keyCode;13==a&&t.login()}}},methods:{login:function(){var t=this;this.axios.get("/login",{params:{account:this.account,password:this.password}}).then((function(e){"success"==e.data?(sessionStorage.setItem("login","true"),t.$router.push({name:"main"})):t.$message({message:"登入失敗!",type:"error"})}))}}}),b=m,f=(a("1088"),Object(r["a"])(b,p,h,!1,null,"22ebdf34",null)),g=f.exports,v=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"90%",margin:"auto auto"}},[t.showModal?e("div",{staticClass:"myModal"}):t._e(),e("el-tabs",{attrs:{type:"border-card"},model:{value:t.tabsValue,callback:function(e){t.tabsValue=e},expression:"tabsValue"}},[e("el-tab-pane",{attrs:{label:"設定",name:"setting"}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"el-icon-setting"}),t._v(" 設定")]),e("div",{staticClass:"tab-body"},[e("div",{staticStyle:{margin:"30px"}},[e("el-button",{staticStyle:{"font-size":"23px",width:"160px"},attrs:{type:"warning",icon:"el-icon-coin"},on:{click:t.goBackSide}},[t._v("資料修改")])],1),e("div",{staticStyle:{margin:"30px"}},[e("el-button",{staticStyle:{"font-size":"23px",width:"160px"},attrs:{type:"danger",icon:"el-icon-switch-button"},on:{click:t.logOut}},[t._v("登出")])],1)])]),e("el-tab-pane",{attrs:{label:"基本資料",name:"basic"}},[e("div",{staticClass:"tab-body"},[e("el-form",{attrs:{"label-width":"80px"}},[e("div",{staticStyle:{"text-align":"left","font-size":"28px"}},[t._v("\n                        店家資料\n                        "),e("el-button",{staticStyle:{"font-size":"18px",padding:"3px"},attrs:{type:"info",icon:"el-icon-brush",circle:"",size:"medium"},on:{click:t.clearCompanyForm}})],1),e("br"),e("el-form-item",{attrs:{label:"店家名稱"}},[e("el-input",{model:{value:t.companyForm.name,callback:function(e){t.$set(t.companyForm,"name",e)},expression:"companyForm.name"}})],1),e("el-form-item",{attrs:{label:"店家地址"}},[e("el-input",{model:{value:t.companyForm.address,callback:function(e){t.$set(t.companyForm,"address",e)},expression:"companyForm.address"}})],1),e("el-form-item",{attrs:{label:"店家電話"}},[e("el-input",{model:{value:t.companyForm.telephone,callback:function(e){t.$set(t.companyForm,"telephone",e)},expression:"companyForm.telephone"}})],1),e("el-form-item",{attrs:{label:"店家傳真"}},[e("el-input",{model:{value:t.companyForm.fax,callback:function(e){t.$set(t.companyForm,"fax",e)},expression:"companyForm.fax"}})],1),e("div",{staticStyle:{"text-align":"left","font-size":"28px"}},[t._v("\n                        客戶資料\n                        "),e("el-button",{staticStyle:{"font-size":"18px",padding:"3px"},attrs:{type:"info",icon:"el-icon-brush",circle:"",size:"small"},on:{click:t.clearClientForm}})],1),e("br"),e("el-form-item",{attrs:{label:"客戶名稱"}},[e("el-input",{model:{value:t.clientForm.name,callback:function(e){t.$set(t.clientForm,"name",e)},expression:"clientForm.name"}})],1),e("el-form-item",{attrs:{label:"客戶地址"}},[e("el-input",{model:{value:t.clientForm.address,callback:function(e){t.$set(t.clientForm,"address",e)},expression:"clientForm.address"}})],1),e("el-form-item",{attrs:{label:"客戶電話"}},[e("el-input",{model:{value:t.clientForm.telephone,callback:function(e){t.$set(t.clientForm,"telephone",e)},expression:"clientForm.telephone"}})],1),e("el-form-item",{attrs:{label:"客戶傳真"}},[e("el-input",{model:{value:t.clientForm.fax,callback:function(e){t.$set(t.clientForm,"fax",e)},expression:"clientForm.fax"}})],1),e("el-form-item",{attrs:{label:"客戶信箱"}},[e("el-input",{model:{value:t.clientForm.email,callback:function(e){t.$set(t.clientForm,"email",e)},expression:"clientForm.email"}})],1),e("el-form-item",{attrs:{label:"日期"}},[e("div",{staticStyle:{width:"100%","text-align":"left"}},[e("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"選擇日期","picker-options":t.pickerOptions},model:{value:t.clientForm.date,callback:function(e){t.$set(t.clientForm,"date",e)},expression:"clientForm.date"}}),e("div")],1)])],1)],1),e("div",{staticClass:"tab-footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeTab("service")}}},[t._v("下一步")])],1)]),e("el-tab-pane",{attrs:{label:"服務項目",name:"service"}},[e("div",{staticClass:"tab-body"},[e("div",{staticStyle:{"text-align":"left","font-size":"28px"}},[t._v("\n                    新增服務項目\n                    "),e("el-button",{staticStyle:{"font-size":"18px",padding:"3px"},attrs:{type:"info",icon:"el-icon-brush",circle:"",size:"small"},on:{click:t.clearServiceTable}})],1),e("el-table",{attrs:{data:t.serviceTable,"empty-text":"尚無資料"}},[e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(e){return t.deleteService(a.$index,a.row)}}})]}}])}),e("el-table-column",{attrs:{label:"規格",prop:"specification"}}),e("el-table-column",{attrs:{label:"數量",prop:"number"}}),e("el-table-column",{attrs:{label:"單位",prop:"unit"}}),e("el-table-column",{attrs:{label:"單價",prop:"unitPrice"}}),e("el-table-column",{attrs:{label:"金額",prop:"price"}}),e("el-table-column",{attrs:{label:"備註",prop:"remark"}})],1),e("el-button",{attrs:{type:"warning",icon:"el-icon-plus",circle:""},on:{click:t.openSpecificationDialog}})],1),e("div",{staticClass:"tab-footer"},[e("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.changeTab("basic")}}},[t._v("上一步")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeTab("other")}}},[t._v("下一步")])],1)]),e("el-tab-pane",{attrs:{label:"其他項目",name:"other"}},[e("div",{staticClass:"tab-body"},[e("div",{staticStyle:{"text-align":"left","font-size":"28px"}},[t._v("\n                    新增其他項目\n                    "),e("el-button",{staticStyle:{"font-size":"18px",padding:"3px"},attrs:{type:"info",icon:"el-icon-brush",circle:"",size:"small"},on:{click:t.clearOtherTable}})],1),e("el-table",{attrs:{data:t.otherTable,"empty-text":"尚無資料"}},[e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(e){return t.deleteOther(a.$index,a.row)}}})]}}])}),e("el-table-column",{attrs:{label:"規格",prop:"specification"}}),e("el-table-column",{attrs:{label:"數量",prop:"number"}}),e("el-table-column",{attrs:{label:"單位",prop:"unit"}}),e("el-table-column",{attrs:{label:"單價",prop:"unitPrice"}}),e("el-table-column",{attrs:{label:"金額",prop:"price"}}),e("el-table-column",{attrs:{label:"備註",prop:"remark"}})],1),e("el-button",{attrs:{type:"warning",icon:"el-icon-plus",circle:""},on:{click:t.openOtherDialog}})],1),e("div",{staticClass:"tab-footer"},[e("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.changeTab("service")}}},[t._v("上一步")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeTab("attachment")}}},[t._v("下一步")])],1)]),e("el-tab-pane",{attrs:{label:"附件",name:"attachment"}},[e("div",{staticClass:"tab-body"},[e("div",{staticStyle:{"text-align":"left","font-size":"28px"}},[t._v("\n                    新增附件\n                    "),e("el-button",{staticStyle:{"font-size":"18px",padding:"3px"},attrs:{type:"info",icon:"el-icon-brush",circle:"",size:"small"},on:{click:t.clearAttachmentTable}})],1),e("el-table",{attrs:{data:t.attachmentTable,"empty-text":"尚無資料"}},[e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(e){return t.deleteAttachment(a.$index,a.row)}}})]}}])}),e("el-table-column",{attrs:{label:"附件名稱",prop:"name"}}),e("el-table-column",{attrs:{label:"備註",prop:"remark"}})],1),e("el-button",{attrs:{type:"warning",icon:"el-icon-plus",circle:""},on:{click:t.openAttachmentDialog}})],1),e("div",{staticClass:"tab-footer"},[e("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.changeTab("other")}}},[t._v("上一步")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeTab("finish")}}},[t._v("下一步")])],1)]),e("el-tab-pane",{attrs:{label:"完成",name:"finish"}},[e("div",{staticClass:"tab-body"},[e("div",{staticStyle:{height:"auto",width:"96%","max-width":"675px",border:"black double 6px",margin:"auto"}},[e("div",{staticStyle:{position:"relative"}},[e("div",[e("div",{staticClass:"basic-info"},[e("div",{staticStyle:{"text-align":"center","font-size":"35px"}},[t._v("報   價   單")]),e("div",{staticClass:"toLeft"},[t._v(t._s(t.companyForm.name))]),e("div",{staticClass:"toLeft"},[t._v(t._s(t.companyForm.address))]),e("div",{staticClass:"toFlex"},[e("div",{},[t._v("TEL："+t._s(t.companyForm.telephone))]),e("div",{staticStyle:{"margin-left":"20px"}},[t._v("FAX："+t._s(t.companyForm.fax))])]),e("br"),e("div",{staticClass:"toFlex"},[e("div",{staticClass:"toLeft",staticStyle:{width:"60%"}},[t._v("客戶名稱："+t._s(t.clientForm.name))]),e("div",{staticClass:"toLeft"},[t._v("日期："+t._s(t.clientForm.date.toLocaleDateString()))])]),e("div",{staticClass:"toFlex"},[e("div",{staticClass:"toLeft",staticStyle:{width:"60%"}},[t._v("聯絡電話："+t._s(t.clientForm.telephone))]),e("div",{staticClass:"toLeft"},[t._v("傳真："+t._s(t.clientForm.fax))])]),e("div",{staticClass:"toLeft"},[t._v("地址："+t._s(t.clientForm.address))]),e("div",{staticClass:"toLeft"},[t._v("Email："+t._s(t.clientForm.email))])]),e("table",{staticStyle:{"border-collapse":"collapse",width:"100%","font-family":"PMingLiU"},attrs:{border:""}},[e("tr",{},[e("th",{staticClass:"table-td",attrs:{width:"45%"}},[t._v("品名")]),e("th",{staticClass:"table-td",attrs:{width:"6%"}},[t._v("數量")]),e("th",{staticClass:"table-td",attrs:{width:"6%"}},[t._v("單位")]),e("th",{staticClass:"table-td",attrs:{width:"13%"}},[t._v("單價")]),e("th",{staticClass:"table-td",attrs:{width:"13%"}},[t._v("金額")]),e("th",{staticClass:"table-td",attrs:{width:"17%"}},[t._v("備註")])]),t._l(t.serviceTable,(function(a){return e("tr",{key:a},[e("td",{staticClass:"table-td",staticStyle:{"max-width":"45%","text-align":"left"}},[t._v(t._s(a.specification))]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"6%","text-align":"center"}},[t._v(t._s(a.number))]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"6%","text-align":"center"}},[t._v(t._s(a.unit))]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"13%","text-align":"right"}},[e("div",{staticStyle:{"margin-right":"4px"}},[t._v("$"+t._s(a.unitPrice))])]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"13%","text-align":"right"}},[e("div",{staticStyle:{"margin-right":"4px"}},[t._v("$"+t._s(a.price))])]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"17%","text-align":"center"}},[t._v(t._s(a.remark))])])})),t._l(t.otherTable,(function(a){return e("tr",{key:a},[e("td",{staticClass:"table-td",staticStyle:{"max-width":"45%","text-align":"left"}},[t._v(t._s(a.specification))]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"6%","text-align":"center"}},[t._v(t._s(a.number))]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"6%","text-align":"center"}},[t._v(t._s(a.unit))]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"13%","text-align":"right"}},[e("div",{staticStyle:{"margin-right":"4px"}},[t._v("$"+t._s(a.unitPrice))])]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"13%","text-align":"right"}},[e("div",{staticStyle:{"margin-right":"4px"}},[t._v("$"+t._s(a.price))])]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"17%","text-align":"center"}},[t._v(t._s(a.remark))])])})),t._l(t.attachmentTable,(function(a){return e("tr",{key:a},[e("td",{staticClass:"table-td",staticStyle:{"text-align":"left"},attrs:{colspan:"5"}},[t._v(t._s(a.name))]),e("td",{staticClass:"table-td",staticStyle:{"text-align":"left"}},[t._v(t._s(a.remark))])])})),t._l(11-(t.serviceTable.length+t.otherTable.length+t.attachmentTable.length),(function(a){return e("tr",{key:a},t._l(6,(function(t){return e("td",{key:t,staticClass:"table-td"})})),0)})),e("tr",[e("td",{staticClass:"toLeft table-td"},[e("div",{staticStyle:{display:"flex"}},[e("div",{staticStyle:{width:"40%",margin:"auto"}},[t._v("施工日期:")]),e("el-input",{model:{value:t.constructionDate,callback:function(e){t.constructionDate=e},expression:"constructionDate"}})],1)]),t._l(5,(function(t){return e("td",{key:t,staticClass:"table-td"})}))],2),e("tr",[e("td",{staticClass:"toLeft table-td",attrs:{colspan:"6"}},[e("div",{staticStyle:{display:"flex"}},[e("div",{staticStyle:{width:"30%",display:"flex"}},[e("div",{staticStyle:{width:"24%",margin:"auto"}},[t._v("訂金:")]),e("el-input",{staticStyle:{margin:"auto"},model:{value:t.deposit,callback:function(e){t.deposit=e},expression:"deposit"}})],1),e("div",{staticStyle:{width:"40%",display:"flex"}},[e("div",{staticStyle:{width:"48%",margin:"auto"}},[t._v("機器設備款:")]),e("el-input",{staticStyle:{margin:"auto"},model:{value:t.machineEquipment,callback:function(e){t.machineEquipment=e},expression:"machineEquipment"}})],1),e("div",{staticStyle:{width:"30%",display:"flex"}},[e("div",{staticStyle:{width:"37%",margin:"auto"}},[t._v("完成款:")]),e("el-input",{staticStyle:{margin:"auto"},model:{value:t.completedPayment,callback:function(e){t.completedPayment=e},expression:"completedPayment"}})],1)])])]),e("tr",[e("td",{staticClass:"table-td",staticStyle:{"letter-spacing":"32px","text-align":"center"}},[t._v("合計")]),e("td",{staticClass:"table-td",staticStyle:{"text-align":"center"},attrs:{colspan:"5"}},[t._v("$"+t._s(t.allPrice))])])],2)]),e("div",{staticStyle:{height:"100px"}},[e("div",{staticClass:"toLeft toFlex basic-info",staticStyle:{height:"100%"}},[e("div",{staticStyle:{margin:"auto",width:"25%"}},[t._v("和進電器水電行:")]),e("div",{staticClass:"watermark",staticStyle:{width:"25%"}}),e("div",{staticStyle:{margin:"auto",width:"20%"}},[t._v("客戶簽名:")]),e("div",{staticStyle:{width:"30%","z-index":"2"}},[""==t.clientSignImg?e("div",{staticStyle:{width:"100%",height:"98%"},on:{click:function(e){t.signCanvasVisible=!0,t.showModal=!1}}}):e("img",{staticStyle:{width:"100%",height:"98%"},attrs:{src:t.clientSignImg},on:{click:function(e){t.signCanvasVisible=!0,t.showModal=!1}}})])])])])])]),e("div",{staticClass:"tab-footer"},[e("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.changeTab("other")}}},[t._v("上一步")]),e("el-button",{attrs:{type:"primary"},on:{click:t.generateReport}},[t._v("下載PDF")])],1)])],1),e("el-dialog",{attrs:{title:"選擇空調設備規格",visible:t.specificationDialogVisible,"close-on-click-modal":!1,modal:!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.specificationDialogVisible=e}}},[e("div",{ref:"specificationDialog",staticStyle:{height:"55vh","overflow-y":"auto","overflow-x":"hidden"}},[e("el-form",{attrs:{model:t.addSpecificationForm}},[e("el-form-item",{attrs:{label:"品牌"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"選擇品牌"},on:{change:function(e){return t.selectChange("brand")}},model:{value:t.addSpecificationValue.brand,callback:function(e){t.$set(t.addSpecificationValue,"brand",e)},expression:"addSpecificationValue.brand"}},t._l(t.addSpecificationOption.brand,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),e("el-form-item",{attrs:{label:"種類"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"選擇種類",name:"categorySelect"},on:{change:function(e){return t.selectChange("category")}},model:{value:t.addSpecificationValue.category,callback:function(e){t.$set(t.addSpecificationValue,"category",e)},expression:"addSpecificationValue.category"}},t._l(t.addSpecificationOption.category,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),e("el-form-item",{attrs:{label:"商品"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"選擇商品",name:"nameSelect"},on:{change:function(e){return t.selectChange("name")}},model:{value:t.addSpecificationValue.name,callback:function(e){t.$set(t.addSpecificationValue,"name",e)},expression:"addSpecificationValue.name"}},t._l(t.addSpecificationOption.name,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),e("el-form-item",{attrs:{label:"數量"}},[e("el-input",{attrs:{placeholder:"輸入數量"},model:{value:t.addSpecificationValue.number,callback:function(e){t.$set(t.addSpecificationValue,"number",e)},expression:"addSpecificationValue.number"}})],1),e("el-form-item",{attrs:{label:"單位"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"選擇單位"},model:{value:t.addSpecificationValue.unit,callback:function(e){t.$set(t.addSpecificationValue,"unit",e)},expression:"addSpecificationValue.unit"}},t._l(t.defaultUnit,(function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.name}},["other"==a.name?e("div",{on:{click:function(t){t.stopPropagation()}}},[e("span",[t._v("自訂單位：")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addSpecificationValue.unit,expression:"addSpecificationValue.unit"}],staticStyle:{"border-width":"0px 0px 1px 0px",width:"20vw"},attrs:{placeholder:"輸入單位"},domProps:{value:t.addSpecificationValue.unit},on:{input:function(e){e.target.composing||t.$set(t.addSpecificationValue,"unit",e.target.value)}}})]):t._e()])})),1)],1),e("el-form-item",{attrs:{label:"單價"}},[e("el-input",{attrs:{placeholder:"輸入單價"},model:{value:t.addSpecificationValue.unitPrice,callback:function(e){t.$set(t.addSpecificationValue,"unitPrice",e)},expression:"addSpecificationValue.unitPrice"}})],1),e("el-form-item",{attrs:{label:"備註"}},[e("el-input",{attrs:{placeholder:"輸入備註"},model:{value:t.addSpecificationValue.remark,callback:function(e){t.$set(t.addSpecificationValue,"remark",e)},expression:"addSpecificationValue.remark"}})],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"warning",plain:""},on:{click:t.openSpecificationDialog}},[t._v("清空")]),e("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.specificationDialogVisible=!1,t.showModal=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.addService}},[t._v("確 定")])],1)]),e("el-dialog",{attrs:{title:"輸入其他服務",visible:t.otherDialogVisible,"close-on-click-modal":!1,modal:!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.otherDialogVisible=e}}},[e("div",{staticStyle:{height:"55vh","overflow-y":"auto","overflow-x":"hidden"}},[e("el-form",{attrs:{model:t.addOtherValue}},[e("el-form-item",{attrs:{label:"選擇服務名稱"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"服務名稱"},on:{change:function(e){return t.selectChange("service")}},model:{value:t.addOtherValue.specification,callback:function(e){t.$set(t.addOtherValue,"specification",e)},expression:"addOtherValue.specification"}},t._l(t.addOtherOption,(function(a){return e("el-option",{key:a.name,attrs:{label:a.name,value:a.name}},["other"==a.name?e("div",{on:{click:function(t){t.stopPropagation()}}},[e("span",[t._v("自訂服務名稱：")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addOtherValue.specification,expression:"addOtherValue.specification"}],staticStyle:{"border-width":"0px 0px 1px 0px",width:"20vw"},attrs:{placeholder:"輸入服務名稱"},domProps:{value:t.addOtherValue.specification},on:{input:function(e){e.target.composing||t.$set(t.addOtherValue,"specification",e.target.value)}}})]):t._e()])})),1)],1),e("el-form-item",{attrs:{label:"數量"}},[e("el-input",{attrs:{placeholder:"輸入數量"},model:{value:t.addOtherValue.number,callback:function(e){t.$set(t.addOtherValue,"number",e)},expression:"addOtherValue.number"}})],1),e("el-form-item",{attrs:{label:"單位"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"選擇單位"},model:{value:t.addOtherValue.unit,callback:function(e){t.$set(t.addOtherValue,"unit",e)},expression:"addOtherValue.unit"}},t._l(t.defaultUnit,(function(a){return e("el-option",{key:a.id,attrs:{label:a.name,value:a.name}},["other"==a.name?e("div",{on:{click:function(t){t.stopPropagation()}}},[e("span",[t._v("自訂單位：")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addOtherValue.unit,expression:"addOtherValue.unit"}],staticStyle:{"border-width":"0px 0px 1px 0px",width:"20vw"},attrs:{placeholder:"輸入單位"},domProps:{value:t.addOtherValue.unit},on:{input:function(e){e.target.composing||t.$set(t.addOtherValue,"unit",e.target.value)}}})]):t._e()])})),1)],1),e("el-form-item",{attrs:{label:"單價"}},[e("el-input",{attrs:{placeholder:"輸入單價"},model:{value:t.addOtherValue.unitPrice,callback:function(e){t.$set(t.addOtherValue,"unitPrice",e)},expression:"addOtherValue.unitPrice"}})],1),e("el-form-item",{attrs:{label:"備註"}},[e("el-input",{attrs:{placeholder:"輸入備註"},model:{value:t.addOtherValue.remark,callback:function(e){t.$set(t.addOtherValue,"remark",e)},expression:"addOtherValue.remark"}})],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"warning",plain:""},on:{click:t.openOtherDialog}},[t._v("清空")]),e("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.otherDialogVisible=!1,t.showModal=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.addOther}},[t._v("確 定")])],1)]),e("el-dialog",{attrs:{title:"輸入附件",visible:t.attachmentDialogVisible,"close-on-click-modal":!1,modal:!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.attachmentDialogVisible=e}}},[e("div",{staticStyle:{height:"55vh","overflow-y":"auto","overflow-x":"hidden"}},[e("el-form",{attrs:{model:t.addAttachValue}},[e("el-form-item",{attrs:{label:"附件名稱"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"服務名稱"},on:{change:function(e){return t.selectChange("attachment")}},model:{value:t.addAttachValue.name,callback:function(e){t.$set(t.addAttachValue,"name",e)},expression:"addAttachValue.name"}},t._l(t.addAttachOption,(function(a){return e("el-option",{key:a.name,attrs:{label:a.name,value:a.name}},["other"==a.name?e("div",{on:{click:function(t){t.stopPropagation()}}},[e("span",[t._v("自訂附件名稱：")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addAttachValue.name,expression:"addAttachValue.name"}],staticStyle:{"border-width":"0px 0px 1px 0px",width:"20vw"},attrs:{placeholder:"輸入附件名稱"},domProps:{value:t.addAttachValue.name},on:{input:function(e){e.target.composing||t.$set(t.addAttachValue,"name",e.target.value)}}})]):t._e()])})),1)],1),e("el-form-item",{attrs:{label:"附件備註"}},[e("el-input",{model:{value:t.addAttachValue.remark,callback:function(e){t.$set(t.addAttachValue,"remark",e)},expression:"addAttachValue.remark"}})],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"warning",plain:""},on:{click:t.openAttachmentDialog}},[t._v("清空")]),e("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.attachmentDialogVisible=!1,t.showModal=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.addAttach}},[t._v("確 定")])],1)]),e("el-dialog",{attrs:{title:"客戶簽名",visible:t.signCanvasVisible,"close-on-click-modal":!1,width:"80%",modal:!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.signCanvasVisible=e}}},[e("div",[e("vue-esign",{ref:"esign",staticStyle:{borderStyle:"double",borderColor:"black"},attrs:{width:1e3,height:500,isCrop:t.isCrop,lineWidth:t.lineWidth,lineColor:t.lineColor,bgColor:t.bgColor},on:{"update:bgColor":function(e){t.bgColor=e},"update:bg-color":function(e){t.bgColor=e}}}),e("div",{staticStyle:{"margin-top":"20px","text-align":"right"}},[e("el-button",{attrs:{type:"warning",plain:""},on:{click:function(e){return t.$refs.esign.reset()}}},[t._v("清除")]),e("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.signCanvasVisible=!1,t.showModal=!1}}},[t._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleGenerate}},[t._v("確定")])],1)],1)]),e("vue-html2pdf",{ref:"html2Pdf",staticStyle:{display:"none"},attrs:{"show-layout":!1,"float-layout":!1,"enable-download":!0,"preview-modal":!1,"paginate-elements-by-height":1400,filename:"我是pdf","pdf-quality":2,"manual-pagination":!0,"pdf-format":"a4","pdf-orientation":"landscape","pdf-content-width":"800px","html-to-pdf-options":t.htmlToPdfOptions,id:"html2Pdf"},on:{hasStartedGeneration:function(e){return t.hasStartedGeneration()},hasGenerated:function(e){return t.hasGenerated(e)}}},[t._v("\n    >\n    "),e("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[e("div",{staticStyle:{height:"auto",width:"96%","max-width":"675px",border:"black double 6px",margin:"20px auto"}},[e("div",{staticStyle:{position:"relative"}},[e("div",{staticClass:"watermark"}),e("div",[e("div",{staticClass:"basic-info"},[e("br"),e("div",{staticStyle:{"text-align":"center","font-size":"35px"}},[t._v("報   價   單")]),e("div",{staticClass:"toLeft"},[t._v(t._s(t.companyForm.name))]),e("div",{staticClass:"toLeft"},[t._v(t._s(t.companyForm.address))]),e("div",{staticClass:"toFlex"},[e("div",{},[t._v("TEL："+t._s(t.companyForm.telephone))]),e("div",{staticStyle:{"margin-left":"20px"}},[t._v("FAX："+t._s(t.companyForm.fax))])]),e("br"),e("div",{staticClass:"toFlex"},[e("div",{staticClass:"toLeft",staticStyle:{width:"60%"}},[t._v("客戶名稱："+t._s(t.clientForm.name))]),e("div",{staticClass:"toLeft"},[t._v("日期："+t._s(t.clientForm.date.toLocaleDateString()))])]),e("div",{staticClass:"toFlex"},[e("div",{staticClass:"toLeft",staticStyle:{width:"60%"}},[t._v("聯絡電話："+t._s(t.clientForm.telephone))]),e("div",{staticClass:"toLeft"},[t._v("傳真："+t._s(t.clientForm.fax))])]),e("div",{staticClass:"toLeft"},[t._v("地址："+t._s(t.clientForm.address))]),e("div",{staticClass:"toLeft"},[t._v("Email："+t._s(t.clientForm.email))])]),e("table",{staticStyle:{"border-collapse":"collapse",width:"100%","font-family":"PMingLiU"},attrs:{border:""}},[e("tr",{},[e("th",{staticClass:"table-td",attrs:{width:"45%"}},[t._v("品名")]),e("th",{staticClass:"table-td",attrs:{width:"6%"}},[t._v("數量")]),e("th",{staticClass:"table-td",attrs:{width:"6%"}},[t._v("單位")]),e("th",{staticClass:"table-td",attrs:{width:"13%"}},[t._v("單價")]),e("th",{staticClass:"table-td",attrs:{width:"13%"}},[t._v("金額")]),e("th",{staticClass:"table-td",attrs:{width:"17%"}},[t._v("備註")])]),t._l(t.serviceTable,(function(a){return e("tr",{key:a},[e("td",{staticClass:"table-td",staticStyle:{"max-width":"45%","text-align":"left"}},[t._v(t._s(a.specification))]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"6%","text-align":"center"}},[t._v(t._s(a.number))]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"6%","text-align":"center"}},[t._v(t._s(a.unit))]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"13%","text-align":"right"}},[e("div",{staticStyle:{"margin-right":"4px"}},[t._v("$"+t._s(a.unitPrice))])]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"13%","text-align":"right"}},[e("div",{staticStyle:{"margin-right":"4px"}},[t._v("$"+t._s(a.price))])]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"17%","text-align":"center"}},[t._v(t._s(a.remark))])])})),t._l(t.otherTable,(function(a){return e("tr",{key:a},[e("td",{staticClass:"table-td",staticStyle:{"max-width":"45%","text-align":"left"}},[t._v(t._s(a.specification))]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"6%","text-align":"center"}},[t._v(t._s(a.number))]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"6%","text-align":"center"}},[t._v(t._s(a.unit))]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"13%","text-align":"right"}},[e("div",{staticStyle:{"margin-right":"4px"}},[t._v("$"+t._s(a.unitPrice))])]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"13%","text-align":"right"}},[e("div",{staticStyle:{"margin-right":"4px"}},[t._v("$"+t._s(a.price))])]),e("td",{staticClass:"table-td",staticStyle:{"max-width":"17%","text-align":"center"}},[t._v(t._s(a.remark))])])})),t._l(t.attachmentTable,(function(a){return e("tr",{key:a},[e("td",{staticClass:"table-td",staticStyle:{"text-align":"left"},attrs:{colspan:"5"}},[t._v(t._s(a.name))]),e("td",{staticClass:"table-td",staticStyle:{"text-align":"left"}},[t._v(t._s(a.remark))])])})),t._l(11-(t.serviceTable.length+t.otherTable.length+t.attachmentTable.length),(function(a){return e("tr",{key:a},t._l(6,(function(t){return e("td",{key:t,staticClass:"table-td"})})),0)})),e("tr",[e("td",{staticClass:"toLeft table-td"},[t._v("\n                                施工日期："+t._s(t.constructionDate)+"\n                            ")]),t._l(5,(function(t){return e("td",{key:t,staticClass:"table-td"})}))],2),e("tr",[e("td",{staticClass:"toLeft table-td",attrs:{colspan:"6"}},[e("div",{staticStyle:{display:"flex"}},[e("div",{staticStyle:{width:"30%"}},[t._v("\n                                        訂金："+t._s(t.deposit)+"\n                                    ")]),e("div",{staticStyle:{width:"40%"}},[t._v("\n                                        機器設備款："+t._s(t.machineEquipment)+"\n                                    ")]),e("div",{staticStyle:{width:"30%"}},[t._v("\n                                        完成款："+t._s(t.completedPayment)+"\n                                    ")])])])]),e("tr",[e("td",{staticClass:"table-td",staticStyle:{"letter-spacing":"32px","text-align":"center"}},[t._v("合計")]),e("td",{staticClass:"table-td",staticStyle:{"text-align":"center"},attrs:{colspan:"5"}},[t._v("$"+t._s(t.allPrice))])])],2)]),e("div",{staticStyle:{height:"100px"}},[e("div",{staticClass:"toLeft toFlex basic-info",staticStyle:{height:"100%"}},[e("div",{staticStyle:{margin:"auto",width:"25%"}},[t._v("和進電器水電行:")]),e("div",{staticClass:"watermark",staticStyle:{width:"25%"}}),e("div",{staticStyle:{margin:"auto",width:"20%"}},[t._v("客戶簽名:")]),e("div",{staticStyle:{width:"30%"}},[""==t.clientSignImg?e("div",{staticStyle:{width:"100%",height:"98%"}}):e("img",{staticStyle:{width:"100%",height:"98%"},attrs:{src:t.clientSignImg}})])])])])])])])],1)},y=[],x=(a("4917"),a("7514"),a("c5f6"),a("75fc")),D=(a("ac6a"),a("5df3"),a("4f7f"),a("13bf")),w=a("6480"),S={name:"Main",components:{vueEsign:D["a"],VueHtml2pdf:w["a"]},data:function(){return{tabsValue:"basic",companyForm:{name:"和進電器水電行",address:"新竹縣新豐鄉建興路一段154-8號",telephone:"03-5576567",fax:"03-573526"},clientForm:{name:"",address:"",telephone:"",fax:"",email:"",date:""},serviceTable:[],specificationDialogVisible:!1,addSpecificationOption:{brand:[],category:[],name:[]},addSpecificationValue:{brand:"",category:"",name:"",number:"1",unit:"",unitPrice:"",remark:""},otherTable:[],otherDialogVisible:!1,addOtherOption:[],addOtherValue:{specification:"",number:"1",unit:"",unitPrice:"0",remark:""},allProduct:[],clientSignImg:"",signCanvasVisible:!1,attachmentDialogVisible:!1,attachmentTable:[],addAttachOption:[],addAttachValue:{name:"",remark:""},name:"Vue.js",showModal:!1,constructionDate:"",deposit:"",machineEquipment:"",completedPayment:"",defaultUnit:[]}},created:function(){if("true"!=sessionStorage.getItem("login")){var t=this;t.$message({message:"登入會期已過，請重新登入!",type:"warning"}),setTimeout((function(){t.$router.push({name:"login"})}),3e3)}else{var e=this;this.axios.get("getProduct").then((function(t){e.allProduct=t.data;var a=new Set;e.allProduct.forEach((function(t){a.add(t.brand)})),e.addSpecificationOption.brand=Object(x["a"])(a)})),this.axios.get("getOther").then((function(t){e.addOtherOption=t.data,e.addOtherOption.push({name:"other"})})),this.axios.get("getAttachment").then((function(t){e.addAttachOption=t.data,e.addAttachOption.push({name:"other"})})),this.axios.get("getUnit").then((function(t){e.defaultUnit=t.data,e.defaultUnit.push({id:9999,name:"other"})})),this.clientForm.date=new Date}},computed:{htmlToPdfOptions:function(){return{margin:0,filename:"報價單.pdf",image:{type:"jpeg",quality:.98},enableLinks:!0,html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}}},allPrice:function(){var t=0;return this.serviceTable.forEach((function(e){t+=Number(String(e.price).replaceAll(",",""))})),this.otherTable.forEach((function(e){t+=Number(String(e.price).replaceAll(",",""))})),t.toLocaleString()}},methods:{changeTab:function(t){this.tabsValue=t},deleteService:function(t,e){this.serviceTable.splice(t,1)},deleteOther:function(t,e){this.otherTable.splice(t,1)},selectChange:function(t){if("brand"==t){var e=this,a=new Set;e.allProduct.forEach((function(t){t.brand==e.addSpecificationValue.brand&&a.add(t.category)})),e.addSpecificationOption.category=Object(x["a"])(a),document.getElementsByName("categorySelect")[0].click()}else if("category"==t){var i=this,l=new Set;i.allProduct.forEach((function(t){t.brand==i.addSpecificationValue.brand&&t.category==i.addSpecificationValue.category&&l.add(t.name)})),i.addSpecificationOption.name=Object(x["a"])(l),document.getElementsByName("nameSelect")[0].click()}else if("name"==t){var n=this,o=n.allProduct.find((function(t){return t.brand==n.addSpecificationValue.brand&&t.category==n.addSpecificationValue.category&&t.name==n.addSpecificationValue.name}));n.addSpecificationValue.unitPrice=o.unitPrice}else if("service"==t){var s=this,r=s.addOtherOption.find((function(t){return t.name==s.addOtherValue.specification}));s.addOtherValue.unitPrice=r.unitPrice}else if("attachment"==t){var c=this,d=c.addAttachOption.find((function(t){return t.name==c.addAttachValue.name}));c.addAttachValue.remark=d.remark}},openSpecificationDialog:function(){this.addSpecificationValue.brand="",this.addSpecificationValue.category="",this.addSpecificationValue.name="",this.addSpecificationValue.number="1",this.addSpecificationValue.unit="",this.addSpecificationValue.unitPrice="",this.addSpecificationValue.remark="",this.addSpecificationOption.category=[],this.addSpecificationOption.name=[],this.specificationDialogVisible=!0,this.showModal=!0;var t=this;setTimeout((function(){t.$refs.specificationDialog.scrollTop=0}),50)},addService:function(){if(this.serviceTable.length+this.otherTable.length+this.attachmentTable.length>=10)this.$message({message:"服務項目+其他服務+附件不得超過11項!",type:"warning"});else if(this.addSpecificationValue.number.match(/^[0-9]*$/))if(this.addSpecificationValue.unitPrice.match(/^[0-9,]*$/)){var t=this.addSpecificationValue.brand+this.addSpecificationValue.category+this.addSpecificationValue.name,e=(Number(this.addSpecificationValue.number)*Number(this.addSpecificationValue.unitPrice.replaceAll(",",""))).toLocaleString();this.serviceTable.push({specification:t,number:this.addSpecificationValue.number,unit:this.addSpecificationValue.unit,unitPrice:this.addSpecificationValue.unitPrice,price:e,remark:this.addSpecificationValue.remark}),this.specificationDialogVisible=!1,this.showModal=!1}else this.$message({message:"單價只能填寫數字和逗號!",type:"warning"});else this.$message({message:"數量只能填寫數字!",type:"warning"})},handleGenerate:function(){var t=this;t.$refs.esign.generate().then((function(e){t.clientSignImg=e,t.signCanvasVisible=!1})).catch((function(e){t.$message({message:"沒有偵測到簽名!",type:"error"})}))},generateReport:function(){this.$refs.html2Pdf.generatePdf()},goBackSide:function(){this.$router.push({name:"backSide"})},logOut:function(){sessionStorage.clear(),this.$router.push({name:"login"})},clearCompanyForm:function(){this.companyForm.name="",this.companyForm.address="",this.companyForm.telephone="",this.companyForm.fax=""},clearClientForm:function(){this.clientForm.name="",this.clientForm.address="",this.clientForm.telephone="",this.clientForm.fax="",this.clientForm.email="",this.clientForm.date=new Date},clearServiceTable:function(){this.serviceTable=[]},openOtherDialog:function(){this.addOtherValue.specification="",this.addOtherValue.number="1",this.addOtherValue.unit="",this.addOtherValue.unitPrice="0",this.addOtherValue.remark="",this.showModal=!0,this.otherDialogVisible=!0},clearAttachmentTable:function(){this.attachmentTable=[]},openAttachmentDialog:function(){this.addAttachValue.name="",this.addAttachValue.remark="",this.showModal=!0,this.attachmentDialogVisible=!0},deleteAttachment:function(t){this.attachmentTable.splice(t,1)},addAttach:function(){this.serviceTable.length+this.otherTable.length+this.attachmentTable.length>=10?this.$message({message:"服務項目+其他服務+附件不得超過11項!",type:"warning"}):(this.attachmentTable.push({name:this.addAttachValue.name,remark:this.addAttachValue.remark}),this.attachmentDialogVisible=!1,this.showModal=!1)},addOther:function(){if(this.serviceTable.length+this.otherTable.length+this.attachmentTable.length>=10)this.$message({message:"服務項目+其他服務+附件不得超過11項!",type:"warning"});else if(this.addOtherValue.number.match(/^[0-9]*$/))if(this.addOtherValue.unitPrice.match(/^[0-9,]*$/)){var t=(Number(this.addOtherValue.number)*Number(this.addOtherValue.unitPrice.replaceAll(",",""))).toLocaleString();this.otherTable.push({specification:this.addOtherValue.specification,number:this.addOtherValue.number,unit:this.addOtherValue.unit,unitPrice:this.addOtherValue.unitPrice,price:t,remark:this.addOtherValue.remark}),this.otherDialogVisible=!1,this.showModal=!1}else this.$message({message:"單價只能填寫數字和逗號!",type:"warning"});else this.$message({message:"數量只能填寫數字!",type:"warning"})},addOtherSelectChange:function(){var t=this;this.addOtherOption.forEach((function(e){e.name==t.addOtherValue.specification&&(t.addOtherValue.unitPrice=e.unitPrice)}))},clearOtherTable:function(){this.otherTable=[]}}},_=S,k=(a("8d7e"),Object(r["a"])(_,v,y,!1,null,"353c1700",null)),V=k.exports,C=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticStyle:{width:"90%",margin:"auto auto"}},[t.showModal?e("div",{staticClass:"myModal"}):t._e(),e("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.tabClick},model:{value:t.tabsValue,callback:function(e){t.tabsValue=e},expression:"tabsValue"}},[e("el-tab-pane",{attrs:{label:"設定",name:"setting"}},[e("span",{attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"el-icon-setting"}),t._v(" 設定")]),e("div",{staticClass:"tab-body"},[e("div",{staticStyle:{margin:"30px"}},[e("el-button",{staticStyle:{"font-size":"23px",width:"160px"},attrs:{type:"warning",icon:"el-icon-s-home"},on:{click:t.goMain}},[t._v("主頁面")])],1),e("div",{staticStyle:{margin:"30px"}},[e("el-button",{staticStyle:{"font-size":"23px",width:"160px"},attrs:{type:"danger",icon:"el-icon-switch-button"},on:{click:t.logOut}},[t._v("登出")])],1)])]),e("el-tab-pane",{attrs:{label:"帳號",name:"account"}},[e("div",{staticClass:"tab-body"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.userTableLoading,expression:"userTableLoading"}],staticStyle:{width:"100%",height:"93%",overflow:"auto"},attrs:{data:t.userData,"empty-text":"尚無資料"}},[e("el-table-column",{attrs:{label:"帳號",prop:"account"}}),e("el-table-column",{attrs:{label:"密碼",prop:"password"}}),e("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.userEdit(a.$index,a.row)}}},[t._v("編輯")]),e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.userDelete(a.$index,a.row)}}},[t._v("刪除")])]}}])})],1),e("el-button",{staticStyle:{position:"absolute",right:"10px",bottom:"10px"},attrs:{type:"warning",circle:"",icon:"el-icon-plus"},on:{click:t.userAdd}})],1)]),e("el-tab-pane",{attrs:{label:"商品",name:"product"}},[e("div",{staticClass:"tab-body"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.productTableLoading,expression:"productTableLoading"}],staticStyle:{width:"100%",height:"93%",overflow:"auto"},attrs:{data:t.productData,"default-sort":{prop:"date",order:"descending"},"empty-text":"尚無資料"}},[e("el-table-column",{attrs:{label:"廠牌",prop:"brand",sortable:""}}),e("el-table-column",{attrs:{label:"種類",prop:"category",sortable:""}}),e("el-table-column",{attrs:{label:"名稱",prop:"name",sortable:""}}),e("el-table-column",{attrs:{label:"單價",prop:"unitPrice",sortable:""}}),e("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.productEdit(a.$index,a.row)}}},[t._v("編輯")]),e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.productDelete(a.$index,a.row)}}},[t._v("刪除")])]}}])})],1),e("el-button",{staticStyle:{position:"absolute",right:"10px",bottom:"10px"},attrs:{type:"warning",circle:"",icon:"el-icon-plus"},on:{click:t.productAdd}})],1)]),e("el-tab-pane",{attrs:{label:"其他",name:"other"}},[e("div",{staticClass:"tab-body"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.otherTableLoading,expression:"otherTableLoading"}],staticStyle:{width:"100%",height:"93%",overflow:"auto"},attrs:{data:t.otherData,"default-sort":{prop:"date",order:"descending"},"empty-text":"尚無資料"}},[e("el-table-column",{attrs:{label:"名稱",prop:"name",sortable:""}}),e("el-table-column",{attrs:{label:"單價",prop:"unitPrice",sortable:""}}),e("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.otherEdit(a.$index,a.row)}}},[t._v("編輯")]),e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.otherDelete(a.$index,a.row)}}},[t._v("刪除")])]}}])})],1),e("el-button",{staticStyle:{position:"absolute",right:"10px",bottom:"10px"},attrs:{type:"warning",circle:"",icon:"el-icon-plus"},on:{click:t.otherAdd}})],1)]),e("el-tab-pane",{attrs:{label:"單位",name:"unit"}},[e("div",{staticClass:"tab-body"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.unitTableLoading,expression:"unitTableLoading"}],staticStyle:{width:"100%",height:"93%",overflow:"auto"},attrs:{data:t.unitData,"empty-text":"尚無資料"}},[e("el-table-column",{attrs:{label:"名稱",prop:"name"}}),e("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.unitDelete(a.$index,a.row)}}},[t._v("刪除")])]}}])})],1),e("el-button",{staticStyle:{position:"absolute",right:"10px",bottom:"10px"},attrs:{type:"warning",circle:"",icon:"el-icon-plus"},on:{click:t.unitAdd}})],1)]),e("el-tab-pane",{attrs:{label:"附件",name:"attachment"}},[e("div",{staticClass:"tab-body"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.attachmentTableLoading,expression:"attachmentTableLoading"}],staticStyle:{width:"100%",height:"93%",overflow:"auto"},attrs:{data:t.attachmentData,"empty-text":"尚無資料"}},[e("el-table-column",{attrs:{label:"名稱",prop:"name"}}),e("el-table-column",{attrs:{label:"備註",prop:"remark"}}),e("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.attachmentEdit(a.$index,a.row)}}},[t._v("編輯")]),e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.attachmentDelete(a.$index,a.row)}}},[t._v("刪除")])]}}])})],1),e("el-button",{staticStyle:{position:"absolute",right:"10px",bottom:"10px"},attrs:{type:"warning",circle:"",icon:"el-icon-plus"},on:{click:t.attachmentAdd}})],1)])],1)],1),e("el-dialog",{attrs:{title:"修改帳號",visible:t.userDialogVisible,width:"50%","close-on-click-modal":!1,modal:!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.userDialogVisible=e}}},[e("el-form",{attrs:{model:t.edituserData,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"帳號",prop:"account"}},[e("el-input",{attrs:{placeholder:"請輸入帳號"},model:{value:t.edituserData.account,callback:function(e){t.$set(t.edituserData,"account",e)},expression:"edituserData.account"}})],1),e("el-form-item",{attrs:{label:"密碼",prop:"password"}},[e("el-input",{attrs:{placeholder:"請輸入密碼"},model:{value:t.edituserData.password,callback:function(e){t.$set(t.edituserData,"password",e)},expression:"edituserData.password"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.userDialogVisible=!1,t.showModal=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.userDialogSubmit}},[t._v("確 定")])],1)],1),e("el-dialog",{attrs:{title:"修改商品",visible:t.productDialogVisible,width:"50%","close-on-click-modal":!1,modal:!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.productDialogVisible=e}}},[e("el-form",{attrs:{model:t.editproductData,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"廠牌",prop:"brand"}},[e("el-input",{attrs:{placeholder:"請輸入廠牌"},model:{value:t.editproductData.brand,callback:function(e){t.$set(t.editproductData,"brand",e)},expression:"editproductData.brand"}})],1),e("el-form-item",{attrs:{label:"種類",prop:"category"}},[e("el-input",{attrs:{placeholder:"請輸入種類"},model:{value:t.editproductData.category,callback:function(e){t.$set(t.editproductData,"category",e)},expression:"editproductData.category"}})],1),e("el-form-item",{attrs:{label:"名稱",prop:"name"}},[e("el-input",{attrs:{placeholder:"請輸入名稱"},model:{value:t.editproductData.name,callback:function(e){t.$set(t.editproductData,"name",e)},expression:"editproductData.name"}})],1),e("el-form-item",{attrs:{label:"單價",prop:"unitPrice"}},[e("el-input",{attrs:{placeholder:"請輸入單價"},model:{value:t.editproductData.unitPrice,callback:function(e){t.$set(t.editproductData,"unitPrice",e)},expression:"editproductData.unitPrice"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.productDialogVisible=!1,t.showModal=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.productDialogSubmit}},[t._v("確 定")])],1)],1),e("el-dialog",{attrs:{title:"修改其他",visible:t.otherDialogVisible,width:"50%","close-on-click-modal":!1,modal:!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.otherDialogVisible=e}}},[e("el-form",{attrs:{model:t.editotherData,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"名稱",prop:"name"}},[e("el-input",{attrs:{placeholder:"請輸入名稱"},model:{value:t.editotherData.name,callback:function(e){t.$set(t.editotherData,"name",e)},expression:"editotherData.name"}})],1),e("el-form-item",{attrs:{label:"單價",prop:"unitPrice"}},[e("el-input",{attrs:{placeholder:"請輸入單價"},model:{value:t.editotherData.unitPrice,callback:function(e){t.$set(t.editotherData,"unitPrice",e)},expression:"editotherData.unitPrice"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.otherDialogVisible=!1,t.showModal=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.otherDialogSubmit}},[t._v("確 定")])],1)],1),e("el-dialog",{attrs:{title:"增加使用者",visible:t.userAddDialogVisible,width:"50%","close-on-click-modal":!1,modal:!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.userAddDialogVisible=e}}},[e("el-form",{attrs:{model:t.adduserData,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"帳號",prop:"account"}},[e("el-input",{attrs:{placeholder:"請輸入帳號"},model:{value:t.adduserData.account,callback:function(e){t.$set(t.adduserData,"account",e)},expression:"adduserData.account"}})],1),e("el-form-item",{attrs:{label:"密碼",prop:"password"}},[e("el-input",{attrs:{placeholder:"請輸入密碼"},model:{value:t.adduserData.password,callback:function(e){t.$set(t.adduserData,"password",e)},expression:"adduserData.password"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.userAddDialogVisible=!1,t.showModal=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.userAddDialogSubmit}},[t._v("確 定")])],1)],1),e("el-dialog",{attrs:{title:"增加商品",visible:t.productAddDialogVisible,width:"50%","close-on-click-modal":!1,modal:!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.productAddDialogVisible=e}}},[e("el-form",{attrs:{model:t.addproductData,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"品牌",prop:"brand"}},[e("el-input",{attrs:{placeholder:"請輸入品牌"},model:{value:t.addproductData.brand,callback:function(e){t.$set(t.addproductData,"brand",e)},expression:"addproductData.brand"}})],1),e("el-form-item",{attrs:{label:"種類",prop:"category"}},[e("el-input",{attrs:{placeholder:"請輸入種類"},model:{value:t.addproductData.category,callback:function(e){t.$set(t.addproductData,"category",e)},expression:"addproductData.category"}})],1),e("el-form-item",{attrs:{label:"商品",prop:"name"}},[e("el-input",{attrs:{placeholder:"請輸入商品"},model:{value:t.addproductData.name,callback:function(e){t.$set(t.addproductData,"name",e)},expression:"addproductData.name"}})],1),e("el-form-item",{attrs:{label:"單價",prop:"unitPrice"}},[e("el-input",{attrs:{placeholder:"請輸入單價"},model:{value:t.addproductData.unitPrice,callback:function(e){t.$set(t.addproductData,"unitPrice",e)},expression:"addproductData.unitPrice"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.productAddDialogVisible=!1,t.showModal=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.productAddDialogSubmit}},[t._v("確 定")])],1)],1),e("el-dialog",{attrs:{title:"增加其他",visible:t.otherAddDialogVisible,width:"50%","close-on-click-modal":!1,modal:!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.otherAddDialogVisible=e}}},[e("el-form",{attrs:{model:t.addotherData,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"名稱",prop:"name"}},[e("el-input",{attrs:{placeholder:"請輸入名稱"},model:{value:t.addotherData.name,callback:function(e){t.$set(t.addotherData,"name",e)},expression:"addotherData.name"}})],1),e("el-form-item",{attrs:{label:"單價",prop:"unitPrice"}},[e("el-input",{attrs:{placeholder:"請輸入單價"},model:{value:t.addotherData.unitPrice,callback:function(e){t.$set(t.addotherData,"unitPrice",e)},expression:"addotherData.unitPrice"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.otherAddDialogVisible=!1,t.showModal=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.otherAddDialogSubmit}},[t._v("確 定")])],1)],1),e("el-dialog",{attrs:{title:"增加單位",visible:t.unitAddDialogVisible,width:"50%","close-on-click-modal":!1,modal:!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.unitAddDialogVisible=e}}},[e("el-form",{attrs:{model:t.addunitData,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"單位",prop:"name"}},[e("el-input",{attrs:{placeholder:"請輸入單位"},model:{value:t.addunitData.name,callback:function(e){t.$set(t.addunitData,"name",e)},expression:"addunitData.name"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.unitAddDialogVisible=!1,t.showModal=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.unitAddDialogSubmit}},[t._v("確 定")])],1)],1),e("el-dialog",{attrs:{title:"增加附件",visible:t.attachmentAddDialogVisible,width:"50%","close-on-click-modal":!1,modal:!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.attachmentAddDialogVisible=e}}},[e("el-form",{attrs:{model:t.addattachmentData,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"附件名稱",prop:"name"}},[e("el-input",{attrs:{placeholder:"請輸入附件名稱"},model:{value:t.addattachmentData.name,callback:function(e){t.$set(t.addattachmentData,"name",e)},expression:"addattachmentData.name"}})],1),e("el-form-item",{attrs:{label:"附件備註",prop:"remark"}},[e("el-input",{attrs:{placeholder:"請輸入附件備註"},model:{value:t.addattachmentData.remark,callback:function(e){t.$set(t.addattachmentData,"remark",e)},expression:"addattachmentData.remark"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.attachmentAddDialogVisible=!1,t.showModal=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.attachmentAddDialogSubmit}},[t._v("確 定")])],1)],1),e("el-dialog",{attrs:{title:"修改附件",visible:t.attachmentDialogVisible,width:"50%","close-on-click-modal":!1,modal:!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.attachmentDialogVisible=e}}},[e("el-form",{attrs:{model:t.editattachmentData,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"附件名稱",prop:"name"}},[e("el-input",{attrs:{placeholder:"請輸入附件名稱"},model:{value:t.editattachmentData.name,callback:function(e){t.$set(t.editattachmentData,"name",e)},expression:"editattachmentData.name"}})],1),e("el-form-item",{attrs:{label:"附件備註",prop:"remark"}},[e("el-input",{attrs:{placeholder:"請輸入附件備註"},model:{value:t.editattachmentData.remark,callback:function(e){t.$set(t.editattachmentData,"remark",e)},expression:"editattachmentData.remark"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.attachmentDialogVisible=!1,t.showModal=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.attachmentDialogSubmit}},[t._v("確 定")])],1)],1)],1)},P=[],O={name:"BackSide",data:function(){return{showModal:!1,tabsValue:"account",userData:[],productData:[],otherData:[],unitData:[],attachmentData:[],userDialogVisible:!1,edituserData:{id:"",account:"",password:"",index:""},productDialogVisible:!1,editproductData:{id:"",brand:"",category:"",name:"",unitPrice:"",index:""},otherDialogVisible:!1,editotherData:{id:"",name:"",unitPrice:"",index:""},userAddDialogVisible:!1,adduserData:{account:"",password:""},productAddDialogVisible:!1,addproductData:{brand:"",category:"",name:"",unitPrice:""},otherAddDialogVisible:!1,addotherData:{name:"",unitPrice:""},unitAddDialogVisible:!1,addunitData:{name:""},addattachmentData:{name:"",remark:""},editattachmentData:{id:"",name:"",remark:"",index:""},userTableLoading:!1,productTableLoading:!1,otherTableLoading:!1,unitTableLoading:!1,attachmentTableLoading:!1}},created:function(){var t=this;this.userTableLoading=!0,this.axios.get("getUser").then((function(e){t.userData=e.data,t.userTableLoading=!1}))},methods:{tabClick:function(t){var e=this;"帳號"==t.label?(e.userTableLoading=!0,this.axios.get("getUser").then((function(t){e.userData=t.data,e.userTableLoading=!1}))):"商品"==t.label?(e.productTableLoading=!0,this.axios.get("getProduct").then((function(t){e.productData=t.data,e.productTableLoading=!1}))):"其他"==t.label?(e.otherTableLoading=!0,this.axios.get("getOther").then((function(t){e.otherData=t.data,e.otherTableLoading=!1}))):"單位"==t.label?(e.unitTableLoading=!0,this.axios.get("getUnit").then((function(t){e.unitData=t.data,e.unitTableLoading=!1}))):"附件"==t.label&&(e.attachmentTableLoading=!0,this.axios.get("getAttachment").then((function(t){e.attachmentData=t.data,e.attachmentTableLoading=!1})))},userEdit:function(t,e){this.edituserData.id=e.id,this.edituserData.account=e.account,this.edituserData.password=e.password,this.edituserData.index=t,this.userDialogVisible=!0,this.showModal=!0},userDialogSubmit:function(){var t=this,e=this;this.axios.post("/editUser",{edituserData:this.edituserData}).then((function(a){e.userDialogVisible=!1,t.showModal=!1,e.userData[e.edituserData.index].account=e.edituserData.account,e.userData[e.edituserData.index].password=e.edituserData.password}))},userDelete:function(t,e){var a=this;this.axios.post("/deleteUser",{id:e.id}).then((function(e){a.userData.splice(t,1)}))},productEdit:function(t,e){this.editproductData.id=e.id,this.editproductData.brand=e.brand,this.editproductData.category=e.category,this.editproductData.name=e.name,this.editproductData.unitPrice=e.unitPrice,this.editproductData.index=t,this.productDialogVisible=!0,this.showModal=!0},productDialogSubmit:function(){if(this.editproductData.unitPrice.match(/^[0-9,]*$/)){var t=this;this.axios.post("/editProduct",{editproductData:this.editproductData}).then((function(e){t.productDialogVisible=!1,t.showModal=!1,t.productData[t.editproductData.index].brand=t.editproductData.brand,t.productData[t.editproductData.index].category=t.editproductData.category,t.productData[t.editproductData.index].name=t.editproductData.name,t.productData[t.editproductData.index].unitPrice=t.editproductData.unitPrice}))}else this.$message({message:"單價只能填寫數字和逗號!",type:"warning"})},productDelete:function(t,e){var a=this;this.axios.post("/deleteProduct",{id:e.id}).then((function(e){a.productData.splice(t,1)}))},otherEdit:function(t,e){this.editotherData.id=e.id,this.editotherData.name=e.name,this.editotherData.unitPrice=e.unitPrice,this.editotherData.index=t,this.otherDialogVisible=!0,this.showModal=!0},otherDialogSubmit:function(){if(this.editotherData.unitPrice.match(/^[0-9,]*$/)){var t=this;this.axios.post("/editOther",{editotherData:this.editotherData}).then((function(e){t.otherDialogVisible=!1,t.showModal=!1,t.otherData[t.editotherData.index].name=t.editotherData.name,t.otherData[t.editotherData.index].unitPrice=t.editotherData.unitPrice}))}else this.$message({message:"單價只能填寫數字和逗號!",type:"warning"})},otherDelete:function(t,e){var a=this;this.axios.post("/deleteOther",{id:e.id}).then((function(e){a.otherData.splice(t,1)}))},otherAddDialogSubmit:function(){if(this.addotherData.unitPrice.match(/^[0-9,]*$/)){var t=this;this.axios.post("/addOther",{addotherData:this.addotherData}).then((function(e){t.otherData.push({id:e.data,name:t.addotherData.name,unitPrice:t.addotherData.unitPrice}),t.addotherData.name="",t.addotherData.unitPrice="",t.otherAddDialogVisible=!1,t.showModal=!1}))}else this.$message({message:"單價只能填寫數字和逗號!",type:"warning"})},otherAdd:function(){this.otherAddDialogVisible=!0,this.showModal=!0},userAdd:function(){this.userAddDialogVisible=!0,this.showModal=!0},userAddDialogSubmit:function(){var t=this;this.axios.post("/addUser",{adduserData:this.adduserData}).then((function(e){t.userData.push({id:e.data,account:t.adduserData.account,password:t.adduserData.password}),t.adduserData.account="",t.adduserData.password="",t.userAddDialogVisible=!1,t.showModal=!1}))},productAdd:function(){this.productAddDialogVisible=!0,this.showModal=!0},productAddDialogSubmit:function(){if(this.addproductData.unitPrice.match(/^[0-9,]*$/)){var t=this;this.axios.post("/addProduct",{addproductData:this.addproductData}).then((function(e){t.productData.push({id:e.data,brand:t.addproductData.brand,category:t.addproductData.category,name:t.addproductData.name,unitPrice:t.addproductData.unitPrice}),t.addproductData.brand="",t.addproductData.category="",t.addproductData.name="",t.addproductData.unitPrice="",t.productAddDialogVisible=!1,t.showModal=!1}))}else this.$message({message:"單價只能填寫數字和逗號!",type:"warning"})},unitDelete:function(t,e){var a=this;this.axios.post("/deleteUnit",{id:e.id}).then((function(e){a.unitData.splice(t,1)}))},unitAdd:function(){this.unitAddDialogVisible=!0,this.showModal=!0},unitAddDialogSubmit:function(){var t=this;this.axios.post("/addUnit",{addunitData:this.addunitData}).then((function(e){t.unitData.push({id:e.data,name:t.addunitData.name}),t.addunitData.name="",t.unitAddDialogVisible=!1,t.showModal=!1}))},attachmentEdit:function(t,e){this.editattachmentData.id=e.id,this.editattachmentData.name=e.name,this.editattachmentData.remark=e.remark,this.editattachmentData.index=t,this.attachmentDialogVisible=!0,this.showModal=!0},attachmentDelete:function(t,e){var a=this;this.axios.post("/deleteAttachment",{id:e.id}).then((function(e){a.attachmentData.splice(t,1)}))},attachmentAdd:function(){this.attachmentAddDialogVisible=!0,this.showModal=!0},attachmentAddDialogSubmit:function(){var t=this;this.axios.post("/addAttachment",{addattachmentData:this.addattachmentData}).then((function(e){t.attachmentData.push({id:e.data,name:t.addattachmentData.name,remark:t.addattachmentData.remark}),t.addattachmentData.name="",t.addattachmentData.remark="",t.attachmentAddDialogVisible=!1,t.showModal=!1}))},attachmentDialogSubmit:function(){var t=this;this.axios.post("/editAttachment",{editattachmentData:this.editattachmentData}).then((function(e){t.attachmentDialogVisible=!1,t.showModal=!1,t.attachmentData[t.editattachmentData.index].name=t.editattachmentData.name,t.attachmentData[t.editattachmentData.index].remark=t.editattachmentData.remark}))},goMain:function(){this.$router.push("/main")},logOut:function(){sessionStorage.clear(),this.$router.push("/login")}}},$=O,A=(a("a04c"),Object(r["a"])($,C,P,!1,null,"7feac4cc",null)),T=A.exports;i["default"].use(u["a"]);var F=new u["a"]({routes:[{path:"*",redirect:"/login"},{path:"/login",name:"login",component:g},{path:"/main",name:"main",component:V},{path:"/backSide",name:"backSide",component:T}]}),L=a("5c96"),M=a.n(L),z=(a("0fae"),a("bc3a")),E=a.n(z),j=a("a7fe"),N=a.n(j),U=a("4328"),q=a.n(U);i["default"].prototype.$qs=q.a,i["default"].config.productionTip=!1,i["default"].use(N.a,E.a),E.a.defaults.baseURL="/api",i["default"].use(M.a),i["default"].config.devtools=!0,F.beforeEach((function(t,e,a){a()}));var I=new i["default"]({router:F,render:function(t){return t(d)}});I.$mount("#app")},"61d9":function(t,e,a){},"8d7e":function(t,e,a){"use strict";a("1024")},9943:function(t,e,a){},a04c:function(t,e,a){"use strict";a("9943")},a63a:function(t,e,a){"use strict";a("61d9")},baa9:function(t,e,a){}});
//# sourceMappingURL=app.cc20eb7a.js.map