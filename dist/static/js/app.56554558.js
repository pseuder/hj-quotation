(function(t){function e(e){for(var i,o,r=e[0],s=e[1],c=e[2],u=0,p=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);d&&d(e);while(p.length)p.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],i=!0,r=1;r<a.length;r++){var s=a[r];0!==n[s]&&(i=!1)}i&&(l.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},n={app:0},l=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=s;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("64a9")},"117f":function(t,e,a){"use strict";a("d261")},"4cf2":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},l=[],o={name:"App"},r=o,s=(a("034f"),a("2877")),c=Object(s["a"])(r,n,l,!1,null,null,null),d=c.exports,u=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"auto auto"}},[a("el-card",{staticStyle:{margin:"100px auto",width:"500px"}},[a("div",{staticStyle:{margin:"0 auto",width:"400px","font-size":"20px"}},[a("br"),a("br"),a("div",{staticClass:"title"},[t._v("登入")]),a("br"),a("br"),a("div",{staticClass:"caption"},[t._v("帳號")]),a("el-input",{staticClass:"input",attrs:{placeholder:"請輸入帳號(使用者名稱)"},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),a("br"),a("br"),a("div",{staticClass:"caption"},[t._v("密碼")]),a("el-input",{staticClass:"input",attrs:{placeholder:"請輸入密碼","show-password":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("br"),a("br"),a("br"),a("el-button",{staticClass:"button",attrs:{plain:""},on:{click:t.login}},[t._v("Log in")]),a("br"),a("br"),a("br")],1)])],1)},f=[],m=(a("7f7f"),a("a481"),{name:"login",data:function(){return{account:"",password:""}},created:function(){this.$router.replace({query:""}).catch((function(){}))},mounted:function(){var t=this;document.onkeydown=function(e){if("login"==t.$route.name){var a=window.event.keyCode;13==a&&t.login()}}},methods:{login:function(){var t=this;this.axios.get("/login",{params:{account:this.account,password:this.password}}).then((function(e){"success"==e.data?(t.$message({message:"登入成功!",type:"success"}),sessionStorage.setItem("login","true"),t.$router.push({name:"main"})):t.$message({message:"登入失敗!",type:"error"})}))}}}),b=m,h=(a("adee"),Object(s["a"])(b,p,f,!1,null,"57ae15cc",null)),v=h.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"90%",margin:"auto auto"}},[a("div",{staticStyle:{position:"relative"}},[a("el-tabs",{attrs:{type:"border-card"},model:{value:t.tabsValue,callback:function(e){t.tabsValue=e},expression:"tabsValue"}},[a("el-tab-pane",{attrs:{label:"基本資料",name:"basic"}},[a("div",{staticClass:"tab-body"},[a("el-form",{attrs:{"label-width":"80px"}},[a("div",{staticStyle:{"text-align":"left","font-size":"28px"}},[t._v("店家")]),a("el-form-item",{attrs:{label:"店家名稱"}},[a("el-input",{model:{value:t.companyForm.name,callback:function(e){t.$set(t.companyForm,"name",e)},expression:"companyForm.name"}})],1),a("el-form-item",{attrs:{label:"店家地址"}},[a("el-input",{model:{value:t.companyForm.address,callback:function(e){t.$set(t.companyForm,"address",e)},expression:"companyForm.address"}})],1),a("el-form-item",{attrs:{label:"店家電話"}},[a("el-input",{model:{value:t.companyForm.telephone,callback:function(e){t.$set(t.companyForm,"telephone",e)},expression:"companyForm.telephone"}})],1),a("el-form-item",{attrs:{label:"店家傳真"}},[a("el-input",{model:{value:t.companyForm.fax,callback:function(e){t.$set(t.companyForm,"fax",e)},expression:"companyForm.fax"}})],1),a("div",{staticStyle:{"text-align":"left","font-size":"28px"}},[t._v("客戶")]),a("el-form-item",{attrs:{label:"客戶名稱"}},[a("el-input",{model:{value:t.clientForm.name,callback:function(e){t.$set(t.clientForm,"name",e)},expression:"clientForm.name"}})],1),a("el-form-item",{attrs:{label:"客戶地址"}},[a("el-input",{model:{value:t.clientForm.address,callback:function(e){t.$set(t.clientForm,"address",e)},expression:"clientForm.address"}})],1),a("el-form-item",{attrs:{label:"客戶電話"}},[a("el-input",{model:{value:t.clientForm.telephone,callback:function(e){t.$set(t.clientForm,"telephone",e)},expression:"clientForm.telephone"}})],1),a("el-form-item",{attrs:{label:"客戶傳真"}},[a("el-input",{model:{value:t.clientForm.fax,callback:function(e){t.$set(t.clientForm,"fax",e)},expression:"clientForm.fax"}})],1),a("el-form-item",{attrs:{label:"客戶信箱"}},[a("el-input",{model:{value:t.clientForm.email,callback:function(e){t.$set(t.clientForm,"email",e)},expression:"clientForm.email"}})],1),a("el-form-item",{attrs:{label:"日期"}},[a("div",{staticStyle:{width:"100%","text-align":"left"}},[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"選擇日期","picker-options":t.pickerOptions},model:{value:t.clientForm.date,callback:function(e){t.$set(t.clientForm,"date",e)},expression:"clientForm.date"}}),a("div")],1)])],1)],1),a("div",{staticClass:"tab-footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeTab("service")}}},[t._v("下一步")])],1)]),a("el-tab-pane",{attrs:{label:"服務項目",name:"service"}},[a("div",{staticClass:"tab-body"},[a("el-table",{attrs:{data:t.serviceTable,"empty-text":"尚無資料"}},[a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return t.deleteService(e.$index,e.row)}}})]}}])}),a("el-table-column",{attrs:{label:"規格",prop:"specification"}}),a("el-table-column",{attrs:{label:"數量",prop:"number"}}),a("el-table-column",{attrs:{label:"單位",prop:"unit"}}),a("el-table-column",{attrs:{label:"單價",prop:"unitPrice"}}),a("el-table-column",{attrs:{label:"金額",prop:"price"}}),a("el-table-column",{attrs:{label:"備註",prop:"remark"}})],1),a("el-button",{attrs:{type:"warning",icon:"el-icon-plus",circle:""},on:{click:t.openSpecificationDialog}})],1),a("div",{staticClass:"tab-footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.changeTab("basic")}}},[t._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeTab("other")}}},[t._v("下一步")])],1)]),a("el-tab-pane",{attrs:{label:"其他項目",name:"other"}},[a("div",{staticClass:"tab-body"},[t._v("\r\n                    其他項目\r\n                ")]),a("div",{staticClass:"tab-footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.changeTab("service")}}},[t._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeTab("finish")}}},[t._v("下一步")])],1)]),a("el-tab-pane",{attrs:{label:"完成",name:"finish"}},[a("div",{staticClass:"tab-body"},[a("div",{style:{height:t.finishDivHeight,width:" 96%","max-width":" 675px",border:" black double 6px",margin:" auto"}},[a("div",{staticStyle:{height:"85%"}},[a("div",{staticClass:"basic-info"},[a("div",{staticStyle:{"text-align":"center","font-size":"35px"}},[t._v("報   價   單")]),a("div",{staticClass:"toLeft"},[t._v(t._s(t.companyForm.name))]),a("div",{staticClass:"toLeft"},[t._v(t._s(t.companyForm.address))]),a("div",{staticClass:"toFlex"},[a("div",{},[t._v("TEL："+t._s(t.companyForm.telephone))]),a("div",{staticStyle:{"margin-left":"20px"}},[t._v("FAX："+t._s(t.companyForm.fax))])]),a("br"),a("div",{staticClass:"toFlex"},[a("div",{staticClass:"toLeft",staticStyle:{width:"60%"}},[t._v("客戶名稱："+t._s(t.clientForm.name))]),a("div",{staticClass:"toLeft"},[t._v("日期："+t._s(t.clientForm.date.toLocaleDateString()))])]),a("div",{staticClass:"toFlex"},[a("div",{staticClass:"toLeft",staticStyle:{width:"60%"}},[t._v("聯絡電話："+t._s(t.clientForm.telephone))]),a("div",{staticClass:"toLeft"},[t._v("傳真："+t._s(t.clientForm.fax))])]),a("div",{staticClass:"toLeft"},[t._v("地址："+t._s(t.clientForm.address))]),a("div",{staticClass:"toLeft"},[t._v("Email："+t._s(t.clientForm.email))])]),a("div",{staticClass:"basic-info",staticStyle:{"border-top":"1px solid #000","border-bottom":"1px solid #000","letter-spacing":"32px","text-align":"center"}},[t._v("\r\n                                國際分離式變頻空調工程\r\n                            ")]),a("table",{staticStyle:{"border-collapse":"collapse",width:"100%","font-family":"PMingLiU"},attrs:{border:""}},[a("tr",{},[a("th",{attrs:{width:"45%"}},[t._v("空調設備規格")]),a("th",{attrs:{width:"6%"}},[t._v("數量")]),a("th",{attrs:{width:"6%"}},[t._v("單位")]),a("th",{attrs:{width:"13%"}},[t._v("單價")]),a("th",{attrs:{width:"13%"}},[t._v("金額")]),a("th",{attrs:{width:"17%"}},[t._v("備註")])]),t._l(t.serviceTable,(function(e){return a("tr",{key:e},[a("td",{staticClass:"table-td",staticStyle:{"max-width":"45%","text-align":"left"}},[t._v(t._s(e.specification))]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"6%","text-align":"center"}},[t._v(t._s(e.number))]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"6%","text-align":"center"}},[t._v(t._s(e.unit))]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"13%","text-align":"right"}},[a("div",{staticStyle:{"margin-right":"4px"}},[t._v("$"+t._s(e.unitPrice))])]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"13%","text-align":"right"}},[a("div",{staticStyle:{"margin-right":"4px"}},[t._v("$"+t._s(e.price))])]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"17%","text-align":"center"}},[t._v(t._s(e.remark))])])})),t._l(10-t.serviceTable.length,(function(e){return a("tr",{key:e},t._l(6,(function(t){return a("td",{key:t,staticClass:"table-td"})})),0)})),a("tr",[a("td",{staticClass:"toLeft table-td"},[t._v("施工日期:")]),t._l(5,(function(t){return a("td",{key:t,staticClass:"table-td"})}))],2),a("tr",t._l(6,(function(t){return a("td",{key:t,staticClass:"table-td"})})),0),a("tr",[a("td",{staticClass:"toLeft table-td",attrs:{colspan:"6"}},[a("span",{staticStyle:{"margin-right":"15%"}},[t._v("訂金:")]),a("span",{staticStyle:{"margin-right":"15%"}},[t._v("機器設備款:")]),a("span",[t._v("完成款:")])])]),a("tr",[a("td",{staticClass:"table-td",staticStyle:{"letter-spacing":"32px","text-align":"center"}},[t._v("合計")]),a("td",{staticClass:"table-td",staticStyle:{"text-align":"center"},attrs:{colspan:"5"}},[t._v("$"+t._s(t.allPrice))])])],2)]),a("div",{staticStyle:{height:"150px"}},[a("div",{staticClass:"toLeft toFlex basic-info"},[a("div",{style:{"line-height":t.finishSignLineHeight,width:"25%"}},[t._v("和進電器水電行:")]),a("div",{staticStyle:{width:"25%"}}),a("div",{style:{"line-height":t.finishSignLineHeight,width:"20%"}},[t._v("客戶簽名:")]),a("div",{staticStyle:{width:"30%"}},[""==t.clientSignImg?a("div",{staticStyle:{width:"100%",height:"98%"},on:{click:function(e){t.signCanvasVisible=!0}}}):a("img",{staticStyle:{width:"100%",height:"98%"},attrs:{src:t.clientSignImg},on:{click:function(e){t.signCanvasVisible=!0}}})])])])])]),a("div",{staticClass:"tab-footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.changeTab("other")}}},[t._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:t.generateReport}},[t._v("下載PDF")])],1)])],1),a("el-button",{staticStyle:{position:"absolute",right:"10px",top:"40px","font-size":"23px"},attrs:{type:"primary",icon:"el-icon-setting",circle:""},on:{click:t.goBackSide}})],1),a("el-dialog",{attrs:{title:"選擇空調設備規格",visible:t.specificationDialogVisible,"close-on-click-modal":!1,modal:!1},on:{"update:visible":function(e){t.specificationDialogVisible=e}}},[a("div",{staticStyle:{height:"55vh","overflow-y":"auto","overflow-x":"hidden"}},[a("el-form",{attrs:{model:t.addSpecificationForm}},[a("el-form-item",{attrs:{label:"品牌"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"選擇品牌"},on:{change:function(e){return t.selectChange("brand")}},model:{value:t.addSpecificationValue.brand,callback:function(e){t.$set(t.addSpecificationValue,"brand",e)},expression:"addSpecificationValue.brand"}},t._l(t.addSpecificationOption.brand,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"種類"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"選擇種類",name:"categorySelect"},on:{change:function(e){return t.selectChange("category")}},model:{value:t.addSpecificationValue.category,callback:function(e){t.$set(t.addSpecificationValue,"category",e)},expression:"addSpecificationValue.category"}},t._l(t.addSpecificationOption.category,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"商品"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"選擇商品",name:"nameSelect"},on:{change:function(e){return t.selectChange("name")}},model:{value:t.addSpecificationValue.name,callback:function(e){t.$set(t.addSpecificationValue,"name",e)},expression:"addSpecificationValue.name"}},t._l(t.addSpecificationOption.name,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"數量"}},[a("el-input",{attrs:{placeholder:"輸入數量"},model:{value:t.addSpecificationValue.number,callback:function(e){t.$set(t.addSpecificationValue,"number",e)},expression:"addSpecificationValue.number"}})],1),a("el-form-item",{attrs:{label:"單位"}},[a("el-input",{attrs:{placeholder:"輸入單位"},model:{value:t.addSpecificationValue.unit,callback:function(e){t.$set(t.addSpecificationValue,"unit",e)},expression:"addSpecificationValue.unit"}})],1),a("el-form-item",{attrs:{label:"單價"}},[a("el-input",{attrs:{placeholder:"輸入單價"},model:{value:t.addSpecificationValue.unitPrice,callback:function(e){t.$set(t.addSpecificationValue,"unitPrice",e)},expression:"addSpecificationValue.unitPrice"}})],1),a("el-form-item",{attrs:{label:"備註"}},[a("el-input",{attrs:{placeholder:"輸入備註"},model:{value:t.addSpecificationValue.remark,callback:function(e){t.$set(t.addSpecificationValue,"remark",e)},expression:"addSpecificationValue.remark"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning",plain:""},on:{click:t.openSpecificationDialog}},[t._v("清空")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.specificationDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addService}},[t._v("確 定")])],1)]),a("el-dialog",{attrs:{title:"客戶簽名",visible:t.signCanvasVisible,"close-on-click-modal":!1,width:"80%",modal:!1},on:{"update:visible":function(e){t.signCanvasVisible=e}}},[a("div",[a("vue-esign",{ref:"esign",staticStyle:{borderStyle:"double",borderColor:"black"},attrs:{width:1e3,height:500,isCrop:t.isCrop,lineWidth:t.lineWidth,lineColor:t.lineColor,bgColor:t.bgColor},on:{"update:bgColor":function(e){t.bgColor=e},"update:bg-color":function(e){t.bgColor=e}}}),a("div",{staticStyle:{"margin-top":"20px","text-align":"right"}},[a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(e){return t.$refs.esign.reset()}}},[t._v("清除")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.signCanvasVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleGenerate}},[t._v("確定")])],1)],1)]),a("vue-html2pdf",{ref:"html2Pdf",staticStyle:{display:"none"},attrs:{"show-layout":!1,"float-layout":!1,"enable-download":!0,"preview-modal":!1,"paginate-elements-by-height":1400,filename:"我是pdf","pdf-quality":2,"manual-pagination":!0,"pdf-format":"a4","pdf-orientation":"landscape","pdf-content-width":"800px","html-to-pdf-options":t.htmlToPdfOptions,id:"html2Pdf"},on:{hasStartedGeneration:function(e){return t.hasStartedGeneration()},hasGenerated:function(e){return t.hasGenerated(e)}}},[t._v("\r\n    >\r\n    "),a("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[a("div",{style:{height:t.finishDivHeight,width:"750px",border:" black double 6px",margin:"20px 20px"}},[a("div",{staticClass:"basic-info"},[a("div",{staticStyle:{"text-align":"center","font-size":"35px"}},[t._v("報   價   單")]),a("div",{staticClass:"toLeft"},[t._v(t._s(t.companyForm.name))]),a("div",{staticClass:"toLeft"},[t._v(t._s(t.companyForm.address))]),a("div",{staticClass:"toFlex"},[a("div",{},[t._v("TEL："+t._s(t.companyForm.telephone))]),a("div",{staticStyle:{"margin-left":"20px"}},[t._v("FAX："+t._s(t.companyForm.fax))])]),a("br"),a("div",{staticClass:"toFlex"},[a("div",{staticClass:"toLeft",staticStyle:{width:"60%"}},[t._v("客戶名稱："+t._s(t.clientForm.name))]),a("div",{staticClass:"toLeft"},[t._v("日期："+t._s(t.clientForm.date.toLocaleDateString()))])]),a("div",{staticClass:"toFlex"},[a("div",{staticClass:"toLeft",staticStyle:{width:"60%"}},[t._v("聯絡電話："+t._s(t.clientForm.telephone))]),a("div",{staticClass:"toLeft"},[t._v("傳真："+t._s(t.clientForm.fax))])]),a("div",{staticClass:"toLeft"},[t._v("地址："+t._s(t.clientForm.address))]),a("div",{staticClass:"toLeft"},[t._v("Email："+t._s(t.clientForm.email))])]),a("div",{staticClass:"basic-info",staticStyle:{"border-top":"1px solid #000","border-bottom":"1px solid #000","letter-spacing":"32px","text-align":"center"}},[t._v("\r\n                國際分離式變頻空調工程\r\n            ")]),a("table",{staticStyle:{"border-collapse":"collapse",width:"750px","font-family":"PMingLiU"},attrs:{border:""}},[a("tr",{},[a("th",{attrs:{width:"350px"}},[t._v("空調設備規格")]),a("th",{attrs:{width:"40px"}},[t._v("數量")]),a("th",{attrs:{width:"40px"}},[t._v("單位")]),a("th",{attrs:{width:"100px"}},[t._v("單價")]),a("th",{attrs:{width:"100px"}},[t._v("金額")]),a("th",{attrs:{width:"120px"}},[t._v("備註")])]),t._l(t.serviceTable,(function(e){return a("tr",{key:e},[a("td",{staticClass:"table-td",staticStyle:{"max-width":"365px","text-align":"left"}},[t._v(t._s(e.specification))]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"40px","text-align":"center"}},[t._v(t._s(e.number))]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"40px","text-align":"center"}},[t._v(t._s(e.unit))]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"100px","text-align":"right"}},[a("div",{staticStyle:{"margin-right":"4px"}},[t._v("$"+t._s(e.unitPrice))])]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"100px","text-align":"right"}},[a("div",{staticStyle:{"margin-right":"4px"}},[t._v("$"+t._s(e.price))])]),a("td",{staticClass:"table-td",staticStyle:{"max-width":"165px","text-align":"center"}},[t._v(t._s(e.remark))])])})),t._l(10-t.serviceTable.length,(function(e){return a("tr",{key:e},t._l(6,(function(t){return a("td",{key:t,staticClass:"table-td"})})),0)})),a("tr",[a("td",{staticClass:"toLeft table-td"},[t._v("施工日期:")]),t._l(5,(function(t){return a("td",{key:t,staticClass:"table-td"})}))],2),a("tr",t._l(6,(function(t){return a("td",{key:t,staticClass:"table-td"})})),0),a("tr",[a("td",{staticClass:"toLeft table-td",attrs:{colspan:"6"}},[a("span",{staticStyle:{"margin-right":"200px"}},[t._v("訂金:")]),a("span",{staticStyle:{"margin-right":"200px"}},[t._v("機器設備款:")]),a("span",[t._v("完成款:")])])]),a("tr",[a("td",{staticClass:"table-td",staticStyle:{"letter-spacing":"32px","text-align":"center"}},[t._v("合計")]),a("td",{staticClass:"table-td",staticStyle:{"text-align":"center"},attrs:{colspan:"5"}},[t._v("$"+t._s(t.allPrice))])])],2),a("div",{staticClass:"toLeft toFlex basic-info"},[a("div",{staticStyle:{"line-height":"145px",width:"400px"}},[t._v("和進電器水電行:")]),a("div",{staticClass:"toFlex",staticStyle:{"line-height":"145px"}},[a("div",[t._v("客戶簽名:")]),""==t.clientSignImg?a("div",{staticStyle:{width:"275px",height:"80%"},on:{click:function(e){t.signCanvasVisible=!0}}}):a("img",{staticStyle:{width:"275px",height:"80%"},attrs:{src:t.clientSignImg},on:{click:function(e){t.signCanvasVisible=!0}}})])])])])])],1)},y=[],x=(a("7514"),a("c5f6"),a("2909")),S=(a("ac6a"),a("5df3"),a("4f7f"),a("13bf")),_=a("6480"),D={name:"Main",components:{vueEsign:S["a"],VueHtml2pdf:_["a"]},data:function(){return{finishDivHeight:"1000px",finishSignLineHeight:"150px",tabsValue:"basic",companyForm:{name:"和進電器水電行",address:"新竹縣新豐鄉建興路一段154-8號",telephone:"03-5576567",fax:"03-573526"},clientForm:{name:"",address:"",telephone:"",fax:"",email:"",date:""},serviceTable:[],specificationDialogVisible:!1,addSpecificationOption:{brand:[],category:[],name:[]},addSpecificationValue:{brand:"",category:"",name:"",number:"1",unit:"",unitPrice:"",remark:""},allProduct:[],clientSignImg:"",signCanvasVisible:!1,name:"Vue.js",showLayout:!1}},created:function(){if("true"!=sessionStorage.getItem("login")){var t=this;t.$message({message:"登入會期已過，請重新登入!",type:"warning"}),setTimeout((function(){t.$router.push({name:"login"})}),3e3)}else{var e=this;this.axios.get("getProduct").then((function(t){e.allProduct=t.data;var a=new Set;e.allProduct.forEach((function(t){a.add(t.brand)})),e.addSpecificationOption.brand=Object(x["a"])(a)})),this.clientForm.date=new Date;var a=navigator.userAgent;a.indexOf("iPad")>0?this.finishDivHeight="1050px":a.indexOf("iPhone")>0?(this.finishDivHeight="1050px",this.finishSignLineHeight="85px"):a.indexOf("SymbianOS")>0||a.indexOf("Windows Phone")>0||a.indexOf("Android")}},computed:{htmlToPdfOptions:function(){return{margin:0,filename:"報價單.pdf",image:{type:"jpeg",quality:.98},enableLinks:!0,html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}}},allPrice:function(){return this.serviceTable.reduce((function(t,e){return(Number(String(t).replaceAll(",",""))+Number(String(e.price).replaceAll(",",""))).toLocaleString()}),0)}},methods:{changeTab:function(t){this.tabsValue=t},deleteService:function(t,e){this.serviceTable.splice(t,1)},selectChange:function(t){if("brand"==t){var e=this,a=new Set;e.allProduct.forEach((function(t){t.brand==e.addSpecificationValue.brand&&a.add(t.category)})),e.addSpecificationOption.category=Object(x["a"])(a),document.getElementsByName("categorySelect")[0].click()}else if("category"==t){var i=this,n=new Set;i.allProduct.forEach((function(t){t.brand==i.addSpecificationValue.brand&&t.category==i.addSpecificationValue.category&&n.add(t.name)})),i.addSpecificationOption.name=Object(x["a"])(n),document.getElementsByName("nameSelect")[0].click()}else if("name"==t){var l=this,o=l.allProduct.find((function(t){return t.brand==l.addSpecificationValue.brand&&t.category==l.addSpecificationValue.category&&t.name==l.addSpecificationValue.name}));l.addSpecificationValue.unitPrice=o.unitPrice}},openSpecificationDialog:function(){this.addSpecificationValue.brand="",this.addSpecificationValue.category="",this.addSpecificationValue.name="",this.addSpecificationValue.number="1",this.addSpecificationValue.unit="",this.addSpecificationValue.unitPrice="",this.addSpecificationValue.remark="",this.addSpecificationOption.category=[],this.addSpecificationOption.name=[],this.specificationDialogVisible=!0},addService:function(){var t=this.addSpecificationValue.brand+this.addSpecificationValue.category+this.addSpecificationValue.name,e=(Number(this.addSpecificationValue.number)*Number(this.addSpecificationValue.unitPrice.replaceAll(",",""))).toLocaleString();this.serviceTable.push({specification:t,number:this.addSpecificationValue.number,unit:this.addSpecificationValue.unit,unitPrice:this.addSpecificationValue.unitPrice,price:e,remark:this.addSpecificationValue.remark}),this.specificationDialogVisible=!1},handleGenerate:function(){var t=this;t.$refs.esign.generate().then((function(e){t.clientSignImg=e,t.signCanvasVisible=!1})).catch((function(e){t.$message({message:"沒有偵測到簽名!",type:"error"})}))},generateReport:function(){this.$refs.html2Pdf.generatePdf()},goBackSide:function(){this.$router.push({name:"backSide"})}}},w=D,k=(a("e66f"),Object(s["a"])(w,g,y,!1,null,"3af151e2",null)),C=k.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{width:"90%",margin:"auto auto"}},[a("div",{staticStyle:{position:"relative"}},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.tabClick}},[a("el-tab-pane",{attrs:{label:"帳號"}},[a("div",{staticClass:"tab-body"},[a("el-table",{staticStyle:{width:"100%",height:"93%",overflow:"auto"},attrs:{data:t.userData}},[a("el-table-column",{attrs:{label:"帳號",prop:"account"}}),a("el-table-column",{attrs:{label:"密碼",prop:"password"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.userEdit(e.$index,e.row)}}},[t._v("編輯")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.userDelete(e.$index,e.row)}}},[t._v("刪除")])]}}])})],1),a("el-button",{staticStyle:{position:"absolute",right:"10px",bottom:"10px"},attrs:{type:"warning",circle:"",icon:"el-icon-plus"},on:{click:t.userAdd}})],1)]),a("el-tab-pane",{attrs:{label:"商品"}},[a("div",{staticClass:"tab-body"},[a("el-table",{staticStyle:{width:"100%",height:"93%",overflow:"auto"},attrs:{data:t.productData,"default-sort":{prop:"date",order:"descending"}}},[a("el-table-column",{attrs:{label:"廠牌",prop:"brand",sortable:""}}),a("el-table-column",{attrs:{label:"種類",prop:"category",sortable:""}}),a("el-table-column",{attrs:{label:"名稱",prop:"name",sortable:""}}),a("el-table-column",{attrs:{label:"單價",prop:"unitPrice",sortable:""}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.productEdit(e.$index,e.row)}}},[t._v("編輯")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.productDelete(e.$index,e.row)}}},[t._v("刪除")])]}}])})],1),a("el-button",{staticStyle:{position:"absolute",right:"10px",bottom:"10px"},attrs:{type:"warning",circle:"",icon:"el-icon-plus"},on:{click:t.productAdd}})],1)])],1),a("el-button",{staticStyle:{position:"absolute",right:"10px",top:"40px","font-size":"23px"},attrs:{type:"primary",icon:"el-icon-s-home",circle:""},on:{click:t.goMain}})],1)]),a("el-dialog",{attrs:{title:"修改帳號",visible:t.userDialogVisible,width:"50%","close-on-click-modal":!1,modal:!1},on:{"update:visible":function(e){t.userDialogVisible=e}}},[a("el-form",{attrs:{model:t.edituserData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"帳號",prop:"account"}},[a("el-input",{attrs:{placeholder:"請輸入帳號"},model:{value:t.edituserData.account,callback:function(e){t.$set(t.edituserData,"account",e)},expression:"edituserData.account"}})],1),a("el-form-item",{attrs:{label:"密碼",prop:"password"}},[a("el-input",{attrs:{placeholder:"請輸入密碼"},model:{value:t.edituserData.password,callback:function(e){t.$set(t.edituserData,"password",e)},expression:"edituserData.password"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.userDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.userDialogSubmit}},[t._v("確 定")])],1)],1),a("el-dialog",{attrs:{title:"修改商品",visible:t.productDialogVisible,width:"50%","close-on-click-modal":!1,modal:!1},on:{"update:visible":function(e){t.productDialogVisible=e}}},[a("el-form",{attrs:{model:t.editproductData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"廠牌",prop:"brand"}},[a("el-input",{attrs:{placeholder:"請輸入廠牌"},model:{value:t.editproductData.brand,callback:function(e){t.$set(t.editproductData,"brand",e)},expression:"editproductData.brand"}})],1),a("el-form-item",{attrs:{label:"種類",prop:"category"}},[a("el-input",{attrs:{placeholder:"請輸入種類"},model:{value:t.editproductData.category,callback:function(e){t.$set(t.editproductData,"category",e)},expression:"editproductData.category"}})],1),a("el-form-item",{attrs:{label:"名稱",prop:"name"}},[a("el-input",{attrs:{placeholder:"請輸入名稱"},model:{value:t.editproductData.name,callback:function(e){t.$set(t.editproductData,"name",e)},expression:"editproductData.name"}})],1),a("el-form-item",{attrs:{label:"單價",prop:"unitPrice"}},[a("el-input",{attrs:{placeholder:"請輸入單價"},model:{value:t.editproductData.unitPrice,callback:function(e){t.$set(t.editproductData,"unitPrice",e)},expression:"editproductData.unitPrice"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.productDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.productDialogSubmit}},[t._v("確 定")])],1)],1),a("el-dialog",{attrs:{title:"增加使用者",visible:t.userAddDialogVisible,width:"50%","close-on-click-modal":!1,modal:!1},on:{"update:visible":function(e){t.userAddDialogVisible=e}}},[a("el-form",{attrs:{model:t.adduserData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"帳號",prop:"account"}},[a("el-input",{attrs:{placeholder:"請輸入帳號"},model:{value:t.adduserData.account,callback:function(e){t.$set(t.adduserData,"account",e)},expression:"adduserData.account"}})],1),a("el-form-item",{attrs:{label:"密碼",prop:"password"}},[a("el-input",{attrs:{placeholder:"請輸入密碼"},model:{value:t.adduserData.password,callback:function(e){t.$set(t.adduserData,"password",e)},expression:"adduserData.password"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.userAddDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.userAddDialogSubmit}},[t._v("確 定")])],1)],1),a("el-dialog",{attrs:{title:"增加商品",visible:t.productAddDialogVisible,width:"50%","close-on-click-modal":!1,modal:!1},on:{"update:visible":function(e){t.productAddDialogVisible=e}}},[a("el-form",{attrs:{model:t.addproductData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"廠牌",prop:"brand"}},[a("el-input",{attrs:{placeholder:"請輸入廠牌"},model:{value:t.addproductData.brand,callback:function(e){t.$set(t.addproductData,"brand",e)},expression:"addproductData.brand"}})],1),a("el-form-item",{attrs:{label:"種類",prop:"category"}},[a("el-input",{attrs:{placeholder:"請輸入種類"},model:{value:t.addproductData.category,callback:function(e){t.$set(t.addproductData,"category",e)},expression:"addproductData.category"}})],1),a("el-form-item",{attrs:{label:"名稱",prop:"name"}},[a("el-input",{attrs:{placeholder:"請輸入名稱"},model:{value:t.addproductData.name,callback:function(e){t.$set(t.addproductData,"name",e)},expression:"addproductData.name"}})],1),a("el-form-item",{attrs:{label:"單價",prop:"unitPrice"}},[a("el-input",{attrs:{placeholder:"請輸入單價"},model:{value:t.addproductData.unitPrice,callback:function(e){t.$set(t.addproductData,"unitPrice",e)},expression:"addproductData.unitPrice"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.productAddDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.productAddDialogSubmit}},[t._v("確 定")])],1)],1)],1)},F=[],P={name:"BackSide",data:function(){return{userData:[],productData:[],userDialogVisible:!1,edituserData:{id:"",account:"",password:"",index:""},productDialogVisible:!1,editproductData:{id:"",brand:"",category:"",name:"",unitPrice:"",index:""},userAddDialogVisible:!1,adduserData:{account:"",password:""},productAddDialogVisible:!1,addproductData:{brand:"",category:"",name:"",unitPrice:""}}},created:function(){var t=this;this.axios.get("getUser").then((function(e){t.userData=e.data}))},methods:{tabClick:function(t){var e=this;"商品"==t.label&&this.axios.get("getProduct").then((function(t){e.productData=t.data}))},userEdit:function(t,e){this.edituserData.id=e.id,this.edituserData.account=e.account,this.edituserData.password=e.password,this.edituserData.index=t,this.userDialogVisible=!0},userDialogSubmit:function(){var t=this;this.axios.post("/editUser",{edituserData:this.edituserData}).then((function(e){t.userDialogVisible=!1,t.userData[t.edituserData.index].account=t.edituserData.account,t.userData[t.edituserData.index].password=t.edituserData.password}))},userDelete:function(t,e){var a=this;this.axios.post("/deleteUser",{id:e.id}).then((function(e){a.userData.splice(t,1)}))},productEdit:function(t,e){this.editproductData.id=e.id,this.editproductData.brand=e.brand,this.editproductData.category=e.category,this.editproductData.name=e.name,this.editproductData.unitPrice=e.unitPrice,this.editproductData.index=t,this.productDialogVisible=!0},productDialogSubmit:function(){var t=this;this.axios.post("/editProduct",{editproductData:this.editproductData}).then((function(e){t.productDialogVisible=!1,t.productData[t.editproductData.index].brand=t.editproductData.brand,t.productData[t.editproductData.index].category=t.editproductData.category,t.productData[t.editproductData.index].name=t.editproductData.name,t.productData[t.editproductData.index].unitPrice=t.editproductData.unitPrice}))},productDelete:function(t,e){var a=this;this.axios.post("/deleteProduct",{id:e.id}).then((function(e){a.productData.splice(t,1)}))},userAdd:function(){this.userAddDialogVisible=!0},userAddDialogSubmit:function(){var t=this;this.axios.post("/addUser",{adduserData:this.adduserData}).then((function(e){console.log(e.data),t.userData.push({id:e.data,account:t.adduserData.account,password:t.adduserData.password}),t.userAddDialogVisible=!1}))},productAdd:function(){this.productAddDialogVisible=!0},productAddDialogSubmit:function(){var t=this;this.axios.post("/addProduct",{addproductData:this.addproductData}).then((function(e){console.log(e.data),t.productData.push({id:e.data,brand:t.addproductData.brand,category:t.addproductData.category,name:t.addproductData.name,unitPrice:t.addproductData.unitPrice}),t.productAddDialogVisible=!1}))},goMain:function(){this.$router.push("/main")}}},$=P,L=(a("117f"),Object(s["a"])($,V,F,!1,null,"3cb1ab92",null)),O=L.exports;i["default"].use(u["a"]);var A=new u["a"]({routes:[{path:"*",redirect:"/login"},{path:"/login",name:"login",component:v},{path:"/main",name:"main",component:C},{path:"/backSide",name:"backSide",component:O}]}),T=a("5c96"),j=a.n(T),E=(a("0fae"),a("bc3a")),z=a.n(E),H=a("a7fe"),M=a.n(H),I=a("4328"),U=a.n(I);i["default"].prototype.$qs=U.a,i["default"].config.productionTip=!1,i["default"].use(M.a,z.a),z.a.defaults.baseURL="/api",i["default"].use(j.a),i["default"].config.devtools=!0,A.beforeEach((function(t,e,a){a()}));var G=new i["default"]({router:A,render:function(t){return t(d)}});G.$mount("#app")},"64a9":function(t,e,a){},adee:function(t,e,a){"use strict";a("d5b1")},d261:function(t,e,a){},d5b1:function(t,e,a){},e66f:function(t,e,a){"use strict";a("4cf2")}});
//# sourceMappingURL=app.56554558.js.map